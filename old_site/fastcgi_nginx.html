---
layout: obsolete
title: "FastCGI Nginx"
permalink: /old_site/FastCGI_Nginx/
redirect_from:
  - /FastCGI_Nginx/
---

<h1>FastCGI Nginx</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Table of contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_is_Nginx"><span class="tocnumber">1</span> <span class="toctext">What is Nginx</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installing_Nginx_on_Ubuntu"><span class="tocnumber">2</span> <span class="toctext">Installing Nginx on Ubuntu</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Nginx_configuration"><span class="tocnumber">3</span> <span class="toctext">Nginx configuration</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Useful_resources"><span class="tocnumber">4</span> <span class="toctext">Useful resources</span></a></li>
</ul>
</td></tr></table>
<h3> <span class="mw-headline" id="What_is_Nginx">What is Nginx</span></h3>
<p><a href="http://wiki.nginx.org/" class="external text" rel="nofollow">Nginx</a> ("engine x") is a high-performance HTTP server and reverse proxy. Designed not just as a typical web server but also to proxy requests, proxying to FastCGI is second nature to Nginx and can be done in just a few short lines of configuration. 
</p>
<h3> <span class="mw-headline" id="Installing_Nginx_on_Ubuntu">Installing Nginx on Ubuntu</span></h3>
<p>
Nginx web server installation (with root):
</p>
<pre>
apt-get install nginx
</pre>
<h3> <span class="mw-headline" id="Nginx_configuration">Nginx configuration</span></h3>
<p>
Nginx configuration (as of version 0.7.63) is located in <b>/etc/nginx/nginx.conf</b> (which contains http configuration) and in <b>/etc/nginx/sites-available/default</b> (where is configuration of particular virtual host or hosts). In order to setup ASP.NET or ASP.NET MVC web application, you need to modify virtual host configuration.
</p>
<pre>
 server {
         listen   80;
         server_name  www.domain1.xyz;
         access_log   /var/log/nginx/your.domain1.xyz.access.log;
 
         location / {
                 root /var/www/www.domain1.xyz/;
                 index index.html index.htm default.aspx Default.aspx;
                 fastcgi_index Default.aspx;
                 fastcgi_pass 127.0.0.1:9000;
                 include /etc/nginx/fastcgi_params;
         }
 }
</pre>
<p>
ASP.NET and ASP.NET MVC web applications runs on Nginx through <a href="http://en.wikipedia.org/wiki/Fastcgi" class="external text" rel="nofollow">FastCGI</a> protocol, therefore you need to add few lines into <b>/etc/nginx/fastcgi_params</b>.
</p>
<pre>
 fastcgi_param  PATH_INFO          &quot;&quot;;
 fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
</pre>
<p>
Now the Nginx part is complete, but to finish the whole thing Mono FastCGI server needs to be started.
</p>
<pre>
 fastcgi-mono-server2 /applications=www.domain1.xyz:/:/var/www/www.domain1.xyz/ /socket=tcp:127.0.0.1:9000
</pre>
<p>
Now when Mono FastCGI server is up and running, Nginx configuration is complete and your application is in place (located in /var/www/www.domain1.xyz/) you can run the web server.
</p>
<pre>
 /etc/init.d/nginx start
</pre>
<h3> <span class="mw-headline" id="Useful_resources">Useful resources</span></h3>
<p>
<a href="http://wiki.nginx.org/NginxConfiguration" class="external free" rel="nofollow">http://wiki.nginx.org/NginxConfiguration</a><br />
<a href="http://wiki.nginx.org/NginxVirtualHostExample" class="external free" rel="nofollow">http://wiki.nginx.org/NginxVirtualHostExample</a><br />
<a href="http://tomi.developmententity.sk/Blog/Post/2" class="external text" rel="nofollow">Linux startup script for mono FastCGI server</a><br />
</p>

