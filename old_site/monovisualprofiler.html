---
layout: obsolete
title: "MonoVisualProfiler"
permalink: /old_site/MonoVisualProfiler/
redirect_from:
  - /MonoVisualProfiler/
---

<h1>MonoVisualProfiler</h1>

<p><br />
</p>
<h1> <span class="mw-headline" id="Mono_Visual_Profiler"> Mono Visual Profiler </span></h1>
<p><a href="{{site.github.url}}/old_site/images/0/0e/Mvp-start.png" class="image"><img alt="Mvp-start.png" src="{{site.github.url}}/old_site/images/0/0e/Mvp-start.png" width="808" height="627" /></a>
</p>
<h2> <span class="mw-headline" id="Overview"> Overview </span></h2>
<p>The Mono Visual Profiler is a graphical interface to the mono logging profiler.  It enables users to create new profiles, save them, and view existing profile logs.  The application strives to provide better data visualization than is capable via the existing cmdline profiler and file decoder.
</p><p>Development is in its initial stages, with the tool located in the <a href="http://anonsvn.mono-project.com/viewvc/trunk/emveepee/" class="external text" rel="nofollow">emveepee svn module</a>.  No public releases have occurred yet.  The tool is being developed as a widget library with a thin wrapper application embedding the profile view widget and driving profile log file operations.  A MonoDevelop addin is also provided optionally by emveepee for integrated profiling of .Net projects.
</p>
<h2> <span class="mw-headline" id="Features"> Features </span></h2>
<p>This list is intended to be a dynamic set of desired and existing capabilities for the profiler.  We will strive to keep it relatively current with the state of development.
</p>
<h3> <span class="mw-headline" id="Current_Capabilities"> Current Capabilities </span></h3>
<h4> <span class="mw-headline" id="Create_New_Profile"> Create New Profile </span></h4>
<p>Support for executing an assembly for the following logging profiler modes:
</p>
<pre> * Allocations
 * Calls/Instrumented
 * Statistical
</pre>
<h4> <span class="mw-headline" id="Interactive_profiling"> Interactive profiling </span></h4>
<p>When creating new profiles, you can start with logging disabled or enabled via a checkbox in the Profile Setup Dialog.  Logging can be enabled and disabled via the Run|LoggingEnabled menu item once the target application is launched.  Profiles are displayed each time logging is disabled, and when the profiled application is terminated.
</p>
<h4> <span class="mw-headline" id="Open_Existing_Profile_Log"> Open Existing Profile Log </span></h4>
<p>Profile logs created via the cmdline with <i>mono --profile</i> or saved from the graphical interface can be opened in the tool to visualize the data.  The profiler log format has already been extended to provide some of the current visualization feature set so some features may not be available for older file formats.
</p>
<h4> <span class="mw-headline" id="Save_profile_log"> Save profile log </span></h4>
<p>Profile logs created within the gui can be saved to specified locations on disk for sharing with others or reopening at a later date.
</p>
<h4> <span class="mw-headline" id="Recent_Log_history"> Recent Log history </span></h4>
<p>The previous 5 logs viewed in the application are available for one-click opening from the "Recent Logs" section of the start page, as well as from the Profile|RecentLogs menu.
</p>
<h4> <span class="mw-headline" id="Repeat_Session_creation"> Repeat Session creation </span></h4>
<p>The ability to repeat a session with a single click from the start page, or from a Profile|RepeatSession menu.  The previous 5 session configurations will be saved to the history file to facilitate repeating common profiling sessions easily.
</p>
<h4> <span class="mw-headline" id="Allocation_Mode_Tree_View"> Allocation Mode Tree View </span></h4>
<p>A simple two level allocation tree view is available with Class root nodes and Allocation method child nodes for each class.  The table is sorted by bytes allocated.
</p>
<h4> <span class="mw-headline" id="Calls.2FInstrumented_Mode_Tree_View"> Calls/Instrumented Mode Tree View </span></h4>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="{{site.github.url}}/old_site/images/9/92/Mvp_call_tree_filtered.png" class="image"><img alt="Mvp call tree filtered.png" src="{{site.github.url}}/old_site/images/9/92/Mvp_call_tree_filtered.png" width="180" height="140" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.github.url}}/old_site/images/9/92/Mvp_call_tree_filtered.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p>For instrumented/calls mode profiles, a call flow tree view with library based flattening is available.  Currently, the only supported flattening option is the flattening of System library methods.  For example, if a System Library method such as Gtk.Application.Run is called, the tree is flattened until a non-system method child node is found.  A "Show System Nodes" menu item can be switched on to disable this flattening which is on by default.
</p>
<h4> <span class="mw-headline" id="Statistical_Mode_View"> Statistical Mode View </span></h4>
<p>A simple list/details mode for statistical data is available.  The List is sorted by descending hit frequency.  Selecting an item in the list populates the details pane with a list of calls the selected method makes and methods which call the selected method.
</p>
<h3> <span class="mw-headline" id="Planned_Features"> Planned Features </span></h3>
<h4> <span class="mw-headline" id="Asp.Net_Profile_Creation"> Asp.Net Profile Creation </span></h4>
<p>The ability to create Asp.Net profiles without resorting to cmdline.  I envision a UI which launches xsp for a path and port and opens a browser on the port to interact with the web app.  This will obviously be more complex than simply running an exe, but should be easy enough to do.  Will have to open up the filters on the file chooser to accept aspx files in addition to exe.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Proportional_Area_Maps_of_profile_data_for_all_modes"> Proportional Area Maps of profile data for all modes </span></h4>
<p>A view similar to the TreeMaps found in other profilers which shows the relative costs of methods or classes in the overall profile.
</p>
<h4> <span class="mw-headline" id="Heap_Snapshot_Mode_View"> Heap Snapshot Mode View </span></h4>
<p>A view to depict the heap snapshot profile mode data visually.  Reference graphs are a likely mechanism to use here to track down circular references and reference leaks.
</p>
<h4> <span class="mw-headline" id="Heap_Shot_style_profiling."> Heap Shot style profiling. </span></h4>
<p>Integration of a mode similar to Lluis Sanchez's nice heap shot profiler which does differencing for two snapshots of the heap to depict how the heap is changing over time.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Visual_Call_Graphs_for_Calls_and_Stat_modes"> Visual Call Graphs for Calls and Stat modes </span></h4>
<p>Gtk.TreeView is boring.  We want to have more flow diagram visual support.  This is tricky because it gets very clumsy quickly unless you can prune like crazy.  Refocusing the tree and auto-collapse of un-focused data will be important to keep it from getting out of hand.
</p>
<h4> <span class="mw-headline" id="Filtering.2FFlattening_for_all_modes"> Filtering/Flattening for all modes </span></h4>
<p>Most people are not going to be interested in seeing every C function hit in a statistical profile log.  That sort of information can be interesting to people who want to optimize all the way up the stack, but for most people, they will just want to know "calling Regex.Replace cost x percent" not what C methods are invoked by the internal implementation of Regex.
</p>
<h4> <span class="mw-headline" id="Multi-mode_profiling"> Multi-mode profiling </span></h4>
<p>The mono logging profile support collection of profiling data for multiple modes at the same time.  While calls and stat aren't a likely pair of modes to run concurrently, either of those modes with allocations is conceivably a reasonable multi-mode profile combination.  There may be others that are interesting.
</p>
