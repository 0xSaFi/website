---
layout: obsolete
title: "WCF Development 2010"
permalink: /old_site/WCF_Development_2010/
redirect_from:
  - /WCF_Development_2010/
---

<h1>WCF Development 2010</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Table of contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#WCF_future_development_tasks"><span class="tocnumber">1</span> <span class="toctext">WCF future development tasks</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Data_transfer_technology"><span class="tocnumber">1.1</span> <span class="toctext">Data transfer technology</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Core_WCF_stack"><span class="tocnumber">1.2</span> <span class="toctext">Core WCF stack</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#WCF_3.0.2F3.5_Security_stack"><span class="tocnumber">1.3</span> <span class="toctext">WCF 3.0/3.5 Security stack</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#dependency_graph"><span class="tocnumber">1.3.1</span> <span class="toctext">dependency graph</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#ServiceAuthorizationManager"><span class="tocnumber">1.3.2</span> <span class="toctext">ServiceAuthorizationManager</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Identity_support"><span class="tocnumber">1.3.3</span> <span class="toctext">Identity support</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#SecurityBindingElements"><span class="tocnumber">1.3.4</span> <span class="toctext">SecurityBindingElements</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#WSSecurityTokenSerializer"><span class="tocnumber">1.3.5</span> <span class="toctext">WSSecurityTokenSerializer</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#WSFederationHttpBinding"><span class="tocnumber">1.3.6</span> <span class="toctext">WSFederationHttpBinding</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#WSDualHttpBinding"><span class="tocnumber">1.3.7</span> <span class="toctext">WSDualHttpBinding</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Policy.5BImport.7CExport.5DExtension"><span class="tocnumber">1.3.8</span> <span class="toctext">Policy[Import|Export]Extension</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Windows_Identity_Foundation_.28Microsoft.IdentityModel.dll.29"><span class="tocnumber">1.4</span> <span class="toctext">Windows Identity Foundation (Microsoft.IdentityModel.dll)</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#New_.NET_4.0_stack"><span class="tocnumber">1.5</span> <span class="toctext">New .NET 4.0 stack</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Routing_.28System.ServiceModel.Routing.dll.29"><span class="tocnumber">1.5.1</span> <span class="toctext">Routing (System.ServiceModel.Routing.dll)</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Discovery_.28System.ServiceModel.Discovery.dll.29"><span class="tocnumber">1.5.2</span> <span class="toctext">Discovery (System.ServiceModel.Discovery.dll)</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Default_configuration"><span class="tocnumber">1.5.3</span> <span class="toctext">Default configuration</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#More_REST_support"><span class="tocnumber">1.5.4</span> <span class="toctext">More REST support</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#REST_Starter_Kit_.28Microsoft.ServiceModel.Web.dll.29"><span class="tocnumber">1.6</span> <span class="toctext">REST Starter Kit (Microsoft.ServiceModel.Web.dll)</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Management_and_AppFabric"><span class="tocnumber">1.7</span> <span class="toctext">Management and AppFabric</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="WCF_future_development_tasks"> WCF future development tasks </span></h1>
<h2> <span class="mw-headline" id="Data_transfer_technology"> Data transfer technology </span></h2>
<p>Regarding entity data model, there is some complicated situation on the technology layers. To list things up, there are:
</p><p>	- Linq to SQL&#160;: the first C# Linq example that achieves data unification with query expressions. SQLServer-only in .NET, while we have dblinq-based implementation which works over any providers.
	  Assembly: System.Data.Linq.dll
	  Status: done. (jonp)
</p><p>	- Linq to Entities&#160;: another C# Linq usage from MS ADO.NET team that achieves almost the same purpose as L2SQL. Includes entity data model, ADO.NET provider over entity client.
	  Assembly: System.Data.Entity.dll
	  Status: no plan to work on it.
</p><p>	- ASP.NET Dynamic Data&#160;: ASP.NET libraries that are application for the above. Provides data pager and manager. It does not involve the actual data transfer; it is done at server side.
	  Assembly: System.Web.DynamicData.dll for base and L2SQL,
	            System.Web.Entity.dll for Entities enhancements
	  Status: done. (grendel)
</p><p>	- WCF Data Services (formerly ADO.NET Data Services, Astoria)
	  WCF library that is a REST application for data query and updates. Uses "entity data model", but likely independent from Entities. Provides both client and service functionality.
	  Assembly&#160;: System.Data.Services.dll, System.Data.Services.Client.dll
	  Status: only stubbed.
</p><p>	- WCF RIA Services
	  Uses the simplified version of "open data protocol", and has some revised(?) entity data model of its own. Unlike Astoria, some classes overlap Entities.
	  Assembly: System.Windows.Ria.dll
	  Status: no plan. Basically SL xap files include it.
</p><p>Through the survey, looks like the entity model technology that is bound to databases is different from the entity management client. This could explain that Data Services do not have a reference to Entities assembly.
</p><p>The entity management protocol seems to be documented in some specifications linked from <a href="http://www.odata.org/" class="external free" rel="nofollow">http://www.odata.org/</a> . The specifications are about 300 pages in PDF.
</p>
<h2> <span class="mw-headline" id="Core_WCF_stack"> Core WCF stack </span></h2>
<p>Here I ambiguously mean "core" by fundamental parts of WCF, that are mandatory to use ClientBase`1 and ServiceHost with BasicHttpBinding or NetTcpBinding, which are, of client and service framework e.g. ChannelDispatcher, ChannelFactory, IContextChannel implementations, instance contexts, contracts, serializers, Message and message filters.
</p><p>It does not involve the security stack (huge), other Bindings such as MSMQ bindings, named pipe binding and WSHttpBinding, transaction support, reliable session and other non-mandatory features.
</p><p>Non-core features may be occasionally implemented.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="WCF_3.0.2F3.5_Security_stack"> WCF 3.0/3.5 Security stack </span></h2>
<h3> <span class="mw-headline" id="dependency_graph"> dependency graph </span></h3>
<pre>
	WS[2007]HttpBinding
	  ReliableMessagingBindingElement&#160;: none
	    (WS-RM implementation)
	  TransactionFlowBindingElement&#160;: none
	    (WS-AT implementation)
	  [Asymmetric|Symmetric|Transport]SecurityBindingElement&#160;: broken
	    (WS-Security implementation)
	    (WS-Trust implementation)
	    SignedXml, EncryptedXml&#160;: broken usage
	    SslSecurityToken[Provider|Authenticator]&#160;: incomplete
	      (WS-SecureConversation implementation)
	    SpnegoSecurityToken[Provider|Authenticator]&#160;: incomplete
	      (WS-SecureConversation implementation)
	      SecurityContextSecurityToken[|Resolver|Authenticator]&#160;: incomplete
	    WSSecurityTokenSerializer&#160;: broken

	WS[2007]FederationHttpBinding
	  WS[2007]HttpBinding
	  IssuedSecurityTokenProvider&#160;: incomplete
	    (WS-Federation implementation)

	WSDualHttpBinding
	  WSHttpBinding
	  CompositeDuplexBindingElement&#160;: none
</pre>
<h3> <span class="mw-headline" id="ServiceAuthorizationManager"> ServiceAuthorizationManager </span></h3>
<p>status: Nothing is implemented yet.
</p><p>tasks: implement eveything.
</p>
<h3> <span class="mw-headline" id="Identity_support"> Identity support </span></h3>
<p>status:
</p>
<ul><li> Some parts are implemented but limited to WS-Security support.
</li><li> Some SAML parts are implemented but never used.
</li></ul>
<p>tasks:
</p>
<ul><li> Fill remaining parts other than WS-Security required parts.
</li><li> Complete SAML work. SAML support has never been used.
</li></ul>
<h3> <span class="mw-headline" id="SecurityBindingElements"> SecurityBindingElements </span></h3>
<p>status:
</p>
<ul><li> SymmetricSecurityBindingElement and AsymmetricSecurityBindingElement had been implemented years ago, but it's now broken due to regression in or around xmldsig or xmlenc. 
</li><li> TLS-based communication in WS-SecureConversation used to be working but not now (dependent on xmldsig).
</li><li> WS-Trust-based security token handling is not practically done.
</li></ul>
<p>tasks:
</p>
<ul><li> Fix xmldsig/xmlenc usage.
</li><li> Resume WSSC TLS communication work.
</li><li> Resume WST token negotiation work.
</li></ul>
<h3> <span class="mw-headline" id="WSSecurityTokenSerializer"> WSSecurityTokenSerializer </span></h3>
<p>status:
</p>
<ul><li> WS-Security serialization and deserialization is not finished, though it used to work to some extent.
</li></ul>
<p>tasks:
</p>
<ul><li> Fill missing parts when required.
</li></ul>
<h3> <span class="mw-headline" id="WSFederationHttpBinding"> WSFederationHttpBinding </span></h3>
<p>status:
</p>
<ul><li> Nothing is implemented yet. It is also required for CardSpace implementation.
</li><li> IssuedSecurityTokenProvider work is almost nothing.
</li></ul>
<p>tasks:
</p>
<ul><li> implement everything.
</li><li> restart IssuedSecurityTokenProvider work.
</li></ul>
<h3> <span class="mw-headline" id="WSDualHttpBinding"> WSDualHttpBinding </span></h3>
<p>status
</p>
<ul><li> It requires ReliableMessagingBindingElement, which is not implemented.
</li><li> TransactionFlowBindingElement, which is not implemented. For transactions I'm not sure if it can be fully supported (as we don't have DTC). But at least WS-AT protocol could be implemented.
</li><li> CompositeDuplexBindingElement is also not implemented.
</li></ul>
<p>tasks:
</p>
<ul><li> implement WS-RM.
</li><li> implement WS-AT and other transaction support stuff.
</li><li> implement CompositeDuplexBindingElement.
</li></ul>
<h3> <span class="mw-headline" id="Policy.5BImport.7CExport.5DExtension"> Policy[Import|Export]Extension </span></h3>
<p>status:
</p>
<ul><li> nothing is implemented.
</li></ul>
<p>tasks:
</p>
<ul><li> implement everything, but low priority. WSDL support improvements may be needed first.
</li></ul>
<p><br />
</p>
<h2> <span class="mw-headline" id="Windows_Identity_Foundation_.28Microsoft.IdentityModel.dll.29"> Windows Identity Foundation (Microsoft.IdentityModel.dll) </span></h2>
<p>Apart from .NET 4, there will be another set of identity and federation support, Windows Identity Foundation (WIF). It does not seem to overlap existing security and identity stack, but rather to provide foundation for relying service (application) and federation implementation.
</p><p>The assembly is like 1MB, as huge as System.Web.Extensions or System.Core. To work on it we have to some great amount of hacking resource. Also it does not make sense to implement this one without core consumption layer (which is 3.0).
</p><p><br />
</p>
<h2> <span class="mw-headline" id="New_.NET_4.0_stack"> New .NET 4.0 stack </span></h2>
<p>It is well explained at <a href="http://msdn.microsoft.com/en-us/library/ee354381.aspx" class="external free" rel="nofollow">http://msdn.microsoft.com/en-us/library/ee354381.aspx</a>
</p><p>In our class status page, there is about 2400 missings in System.ServiceModel.dll, but they are mostly because it integrates WF support (which used to be System.WorkflowServices.dll in 3.5). I have already integrated those used to be in System.ServiceModel.Web.dll into System.ServiceModel.dll under 4.0 profile.
</p>
<h3> <span class="mw-headline" id="Routing_.28System.ServiceModel.Routing.dll.29"> Routing (System.ServiceModel.Routing.dll) </span></h3>
<p>It has been implemented, with only a few missing features.
</p>
<h3> <span class="mw-headline" id="Discovery_.28System.ServiceModel.Discovery.dll.29"> Discovery (System.ServiceModel.Discovery.dll) </span></h3>
<p>Another service application. Provides WS-Discovery functionality, so that clients can choose one of the services for the same requirement. Involves UDP endpoints. Totally isolated task.
</p>
<h3> <span class="mw-headline" id="Default_configuration"> Default configuration </span></h3>
<p>It is part of configuration framework. Providing common simplified default set is not difficult. While this task is part of 4.0 core, it is also sort of isolated.
</p>
<h3> <span class="mw-headline" id="More_REST_support"> More REST support </span></h3>
<p>Some additions to the REST stack. Automatic help page support, etc.. I assume it can be implemented separately like WSDL support.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="REST_Starter_Kit_.28Microsoft.ServiceModel.Web.dll.29"> REST Starter Kit (Microsoft.ServiceModel.Web.dll) </span></h2>
<p>It is an extension for wider REST support. It is still preview version, and not sure how it will be distributed, while it seems already used in some projects. TBD.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="Management_and_AppFabric"> Management and AppFabric </span></h2>
<p>It is not part of any of WxF, but AppFabric provides some advanced administration and configuration utility for WCF (and WF) services. It is looking useful and it might be nice to have for us too. Though large part of AppFabric is looking WF-centric.
</p><p>The features include: configuration management, call statistics, endpoint management, database monitoring etc.
</p><p>For now we lack detailed part of configuration support itself, so this component cannot be of an immediate task. On the other hand, things like configuration editor becomes less important once simplified default configuration is implemented.
</p><p>Regarding management, we actually lack diagnostics (logging) framework that WCF has. Hence things like SvcTraceViewer cannot be implemented. It will be a non-trivial task.
</p>
