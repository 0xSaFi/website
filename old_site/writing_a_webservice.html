---
layout: obsolete
title: "Writing a WebService"
permalink: /old_site/Writing_a_WebService/
redirect_from:
  - /Writing_a_WebService/
---

<h1>Writing a WebService</h1>

<p>Mono makes it very easy to write a web service that can be consumed by any application written in any programming language that understands web services.  In many cases, it is as simple as adding the [WebMethod] attribute to a method.
</p><p>Here is a simple web service called MathService that provides two methods: AddNumbers and SubtractNumbers.   The following shows the contents of a sample file NumberService.asmx:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&lt;%</span>@ WebService Language<span style="color: #008000;">=</span><span style="color: #666666;">&quot;C#&quot;</span> <span style="color: #6666cc; font-weight: bold;">Class</span><span style="color: #008000;">=</span><span style="color: #666666;">&quot;MathService.MathService&quot;</span> <span style="color: #008000;">%&gt;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Web.Services</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">namespace</span> MathService
<span style="color: #008000;">&#123;</span>
	<span style="color: #008000;">&#91;</span>WebService <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">Namespace</span> <span style="color: #008000;">=</span> <span style="color: #666666;">&quot;http://tempuri.org/NumberService&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#93;</span>
	<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> MathService <span style="color: #008000;">:</span> WebService
	<span style="color: #008000;">&#123;</span>
		<span style="color: #008000;">&#91;</span>WebMethod<span style="color: #008000;">&#93;</span>
		<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">int</span> AddNumbers <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> number1, <span style="color: #6666cc; font-weight: bold;">int</span> number2<span style="color: #008000;">&#41;</span>
		<span style="color: #008000;">&#123;</span>
			<span style="color: #0600FF; font-weight: bold;">return</span> number1 <span style="color: #008000;">+</span> number2<span style="color: #008000;">;</span>
		<span style="color: #008000;">&#125;</span>
&#160;
		<span style="color: #008000;">&#91;</span>WebMethod<span style="color: #008000;">&#93;</span>
		<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">int</span> SubtractNumbers <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> number1, <span style="color: #6666cc; font-weight: bold;">int</span> number2<span style="color: #008000;">&#41;</span>
		<span style="color: #008000;">&#123;</span>
			<span style="color: #0600FF; font-weight: bold;">return</span> number1 <span style="color: #008000;">-</span> number2<span style="color: #008000;">;</span>
		<span style="color: #008000;">&#125;</span>
	<span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>If you put this file on your web server directory, or if you run the command xsp on the same directory as this file is located your web service will be up and running.
</p><p>For example, if you used <b>xsp</b> from the shell, you can contact <a href="http://localhost:8080/NumberService.asmx" class="external free" rel="nofollow">http://localhost:8080/NumberService.asmx</a> to access the test page that is automatically generated for your web service.    In that page you can also get WSDL descriptions for the web service, and you can test your web service directly.
</p><p>If you deployed this to your web server (say, with <a href="{{site.github.url}}/old_site/Mod_mono" title="Mod mono">Mod_mono</a>) you should be able to access it at <a href="http://localhost/NumberService.asmx" class="external free" rel="nofollow">http://localhost/NumberService.asmx</a>
</p><p>(Cool screenshot goes here!)
</p><p>To use this web service or any other web service in your application, see <a href="{{site.github.url}}/old_site/Web_Services" title="Web Services">Consuming Web Services</a>.
</p>
