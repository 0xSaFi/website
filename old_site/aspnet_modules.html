---
layout: obsolete
title: "ASP.NET Modules"
permalink: /old_site/ASP.NET_Modules/
---

<h1>ASP.NET Modules</h1>

<p>Mono provides support for <b>gzip</b> encoding and <b>basic and digest authentication</b> in <i>xsp</i> as modules. These can be used with <i>mod_mono</i> too, but as apache already has modules to do that, they are less useful.
</p><p>The modules are in the Mono.Http.dll assembly distributed with mono.
</p>
<h2> <span class="mw-headline" id="Enabling_gzip_compression_in_xsp"> Enabling gzip compression in xsp </span></h2>
<p>Add the following inside &lt;configuration&gt;...&lt;/configuration&gt; in your web.config:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">&lt;!-- This enables parsing the mono.aspnet section that follows --&gt;</span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;configSections<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;sectionGroup</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;mono.aspnet&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
     <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;section</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;acceptEncoding&quot;</span></span>
<span style="color: #009900;">              <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Mono.Http.Configuration.AcceptEncodingSectionHandler, Mono.Http, Version=1.0.5000.0, PublicKeyToken=0738eb9f132ed756&quot;</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/sectionGroup<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/configSections<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;httpModules<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;AcceptEncodingModule&quot;</span></span>
<span style="color: #009900;">       <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Mono.Http.Modules.AcceptEncodingModule, Mono.Http, Version=1.0.5000.0, PublicKeyToken=0738eb9f132ed756&quot;</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/httpModules<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&#160;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;mono.aspnet<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;acceptEncoding<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #808080; font-style: italic;">&lt;!-- Change disabled to 'no' to enable gzip content encoding</span>
<span style="color: #808080; font-style: italic;">       By default it is disabled. --&gt;</span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">encoding</span>=<span style="color: #ff0000;">&quot;gzip&quot;</span></span>
<span style="color: #009900;">         <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Mono.Http.GZipWriteFilter, Mono.Http, Version=1.0.5000.0, PublicKeyToken=0738eb9f132ed756&quot;</span></span>
<span style="color: #009900;">         <span style="color: #000066;">disabled</span>=<span style="color: #ff0000;">&quot;no&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/acceptEncoding<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/mono.aspnet<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<p>And that's it. It will load Mono.Http.dll from the <a href="http://www.mono-project.com/Assemblies_and_the_GAC" class="external text" rel="nofollow">GAC</a> and send compressed responses when the client supports it.
</p>
<h2> <span class="mw-headline" id="Basic_and_Digest_authenticaton"> Basic and Digest authenticaton </span></h2>
<p>Mono also provides support for <a href="http://www.ietf.org/rfc/rfc2617.txt" class="external text" rel="nofollow">Basic and Digest authentication</a>.
</p><p>Both modules get their user list from a XML file that looks like:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;?xml</span> <span style="color: #000066;">version</span>=<span style="color: #ff0000;">&quot;1.0&quot;</span> <span style="color: #000066;">encoding</span>=<span style="color: #ff0000;">&quot;utf-8&quot;</span><span style="color: #000000; font-weight: bold;">?&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;users<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;user</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;gonzalo&quot;</span> <span style="color: #000066;">password</span>=<span style="color: #ff0000;">&quot;password&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;role</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;user&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/user<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/users<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<p>They both need to get the file name containing the users and the realm from the configuration. This is configurable using &lt;appSettings&gt; in your web.config file. The following example is valid for <b>basic</b> authentication. Replace "Basic" with "Digest" and you'll get the equivalent <b>digest</b> configuration:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;appSettings<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">key</span>=<span style="color: #ff0000;">&quot;Basic.Users&quot;</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">&quot;/srv/userdata/users.xml&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">key</span>=<span style="color: #ff0000;">&quot;Basic.Realm&quot;</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">&quot;My Realm&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/appSettings<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<p>Now we need to enable the corresponding module. This is done by adding the following line inside &lt;httpModules&gt;...&lt;/httpModules&gt; in your web.config file:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;BasicAuthenticationModule&quot;</span> </span>
<span style="color: #009900;">     <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Mono.Http.Modules.BasicAuthenticationModule, Mono.Http, Version=1.0.5000.0, PublicKeyToken=0738eb9f132ed756&quot;</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span></pre>
<p>Again, replace "Basic" with "Digest" and you'll get the configuration for digest authentication.
</p>
