---
layout: obsolete
title: "Mono.Cairo Cookbook"
permalink: /old_site/Mono.Cairo_Cookbook/
---

<h1>Mono.Cairo Cookbook</h1>

<p>Some fun recipes to spice up your Cairo based drawing!
</p><p>C# version created by Or Dvory.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Simple_Working_with_a_Cairo_Context"><span class="tocnumber">1</span> <span class="toctext">Simple Working with a Cairo Context</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Drawing_Rounded_Rects"><span class="tocnumber">2</span> <span class="toctext">Drawing Rounded Rects</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Opening_Images_.28Including_SVG.29"><span class="tocnumber">3</span> <span class="toctext">Opening Images (Including SVG)</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Transformations"><span class="tocnumber">4</span> <span class="toctext">Transformations</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Truchet_Tiling"><span class="tocnumber">5</span> <span class="toctext">Truchet Tiling</span></a></li>
</ul>
</td></tr></table>
<h3> <span class="mw-headline" id="Simple_Working_with_a_Cairo_Context">Simple Working with a Cairo Context</span></h3>
<p>The following code draws three lines to into a .png image file.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:72px;"><a href="{{site.baseurl}}/images/old_site/3/30/Antialias.png" class="image"><img alt="Antialias.png" src="{{site.baseurl}}/images/old_site/3/30/Antialias.png" width="70" height="150" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.baseurl}}/images/old_site/3/30/Antialias.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">//    antialias.cs</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Reflection</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Runtime.InteropServices</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Cairo</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> CairoAntialias
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #008080; font-style: italic;">// The using statement ensures that potentially heavy objects</span>
        <span style="color: #008080; font-style: italic;">// are disposed immediately.</span>
	<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>ImageSurface draw <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> ImageSurface <span style="color: #008000;">&#40;</span>Format<span style="color: #008000;">.</span><span style="color: #0000FF;">Argb32</span>, <span style="color: #FF0000;">70</span>, <span style="color: #FF0000;">150</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
	    <span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>Context gr <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Context<span style="color: #008000;">&#40;</span>draw<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Antialias</span> <span style="color: #008000;">=</span> Antialias<span style="color: #008000;">.</span><span style="color: #0000FF;">Subpixel</span><span style="color: #008000;">;</span>	<span style="color: #008080; font-style: italic;">// sets the anti-aliasing method</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">9</span><span style="color: #008000;">;</span>			<span style="color: #008080; font-style: italic;">// sets the line width</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>	<span style="color: #008080; font-style: italic;">// red, green, blue, alpha</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">10</span>, <span style="color: #FF0000;">10</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>			<span style="color: #008080; font-style: italic;">// sets the Context's start point.</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">60</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>			<span style="color: #008080; font-style: italic;">// draws a &quot;virtual&quot; line from 5,5 to 20,30</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>			<span style="color: #008080; font-style: italic;">//stroke the line to the image surface</span>
&#160;
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Antialias</span> <span style="color: #008000;">=</span> Antialias<span style="color: #008000;">.</span><span style="color: #0000FF;">Gray</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">8</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineCap</span> <span style="color: #008000;">=</span> LineCap<span style="color: #008000;">.</span><span style="color: #0000FF;">Round</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">10</span>, <span style="color: #FF0000;">50</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">100</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Antialias</span> <span style="color: #008000;">=</span> Antialias<span style="color: #008000;">.</span><span style="color: #0000FF;">None</span><span style="color: #008000;">;</span>	<span style="color: #008080; font-style: italic;">//fastest method but low quality</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">7</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">10</span>, <span style="color: #FF0000;">90</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">140</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
                draw<span style="color: #008000;">.</span><span style="color: #0000FF;">WriteToPng</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;antialias.png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>	<span style="color: #008080; font-style: italic;">//save the image as a png image.</span>
            <span style="color: #008000;">&#125;</span>
	<span style="color: #008000;">&#125;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>To compile this sample type in the terminal:
</p>
<pre class="bash" style="font-family:monospace;">mcs antialias.cs -pkg:mono-cairo</pre>
<h3> <span class="mw-headline" id="Drawing_Rounded_Rects">Drawing Rounded Rects</span></h3>
<p>The following code draws Rounded Rects on a GTK window.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a href="{{site.baseurl}}/images/old_site/3/31/RoundedRectangles.png" class="image"><img alt="RoundedRectangles.png" src="{{site.baseurl}}/images/old_site/3/31/RoundedRectangles.png" width="150" height="156" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.baseurl}}/images/old_site/3/31/RoundedRectangles.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">//    roundedrects.cs</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Reflection</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Runtime.InteropServices</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Cairo</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Gtk</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> GtkCairo
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Init</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> w <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Mono-Cairo Rounded Rectangles&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	DrawingArea a <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CairoGraphic <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	Box box <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> HBox <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">true</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	box<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>a<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	w<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>box<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	w<span style="color: #008000;">.</span><span style="color: #0000FF;">Resize</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">500</span>, <span style="color: #FF0000;">500</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	w<span style="color: #008000;">.</span><span style="color: #0000FF;">DeleteEvent</span> <span style="color: #008000;">+=</span> close_window<span style="color: #008000;">;</span>
	w<span style="color: #008000;">.</span><span style="color: #0000FF;">ShowAll</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Run</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> close_window <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">object</span> obj, DeleteEventArgs args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Quit</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> CairoGraphic <span style="color: #008000;">:</span> DrawingArea
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">double</span> min <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">params</span> <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> arr<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	<span style="color: #6666cc; font-weight: bold;">int</span> minp <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span>
	<span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> arr<span style="color: #008000;">.</span><span style="color: #0000FF;">Length</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
	    <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>arr<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #008000;">&lt;</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span>
		minp <span style="color: #008000;">=</span> i<span style="color: #008000;">;</span>
&#160;
	<span style="color: #0600FF; font-weight: bold;">return</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> DrawRoundedRectangle <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">double</span> x, <span style="color: #6666cc; font-weight: bold;">double</span> y, <span style="color: #6666cc; font-weight: bold;">double</span> width, <span style="color: #6666cc; font-weight: bold;">double</span> height, <span style="color: #6666cc; font-weight: bold;">double</span> radius<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	<span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#40;</span>radius <span style="color: #008000;">&gt;</span> height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">||</span> <span style="color: #008000;">&#40;</span>radius <span style="color: #008000;">&gt;</span> width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span>
	    radius <span style="color: #008000;">=</span> min <span style="color: #008000;">&#40;</span>height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, radius, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span>, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y <span style="color: #008000;">+</span> radius, radius, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius, radius, <span style="color: #FF0000;">0</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> height<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius, radius, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">ClosePath</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Restore</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> DrawCurvedRectangle <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">double</span> x, <span style="color: #6666cc; font-weight: bold;">double</span> y, <span style="color: #6666cc; font-weight: bold;">double</span> width, <span style="color: #6666cc; font-weight: bold;">double</span> height<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x, y, x, y, x <span style="color: #008000;">+</span> width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width, y, x <span style="color: #008000;">+</span> width, y, x <span style="color: #008000;">+</span> width, y <span style="color: #008000;">+</span> height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width, y <span style="color: #008000;">+</span> height, x <span style="color: #008000;">+</span> width, y <span style="color: #008000;">+</span> height, x <span style="color: #008000;">+</span> width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, y <span style="color: #008000;">+</span> height<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> height, x, y <span style="color: #008000;">+</span> height, x, y <span style="color: #008000;">+</span> height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Restore</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">bool</span> OnExposeEvent <span style="color: #008000;">&#40;</span>Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">EventExpose</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>Context g <span style="color: #008000;">=</span> Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">CairoHelper</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Create</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
	    DrawCurvedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">30</span>, <span style="color: #FF0000;">30</span>, <span style="color: #FF0000;">300</span>, <span style="color: #FF0000;">200</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">70</span>, <span style="color: #FF0000;">250</span>, <span style="color: #FF0000;">300</span>, <span style="color: #FF0000;">200</span>, <span style="color: #FF0000;">40</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0.1</span>, <span style="color: #FF0000;">0.6</span>, <span style="color: #FF0000;">1</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">FillPreserve</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0.2</span>, <span style="color: #FF0000;">0.8</span>, <span style="color: #FF0000;">1</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">5</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>
	<span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #0600FF; font-weight: bold;">true</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>To compile this sample type in the terminal:
</p>
<pre class="bash" style="font-family:monospace;">mcs roundedrects.cs -pkg:mono-cairo -pkg:gtk-sharp-<span style="color: #000000;">2.0</span></pre>
<h3> <span class="mw-headline" id="Opening_Images_.28Including_SVG.29">Opening Images (Including SVG)</span></h3>
<p>To view an image file, you first need to load it and then display it.
</p><p>the following code opens images using GDK. The problem is that the only way to convert a GDK surface into Cairo surface is by saving it as a png file and the reopen it with Cairo.
</p><p>If the image typed as SVG, Rsvg library will render it for us as a GDK surface.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a href="{{site.baseurl}}/images/old_site/1/12/Viewer.png" class="image"><img alt="Viewer.png" src="{{site.baseurl}}/images/old_site/1/12/Viewer.png" width="150" height="160" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.baseurl}}/images/old_site/1/12/Viewer.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">//    viewer.cs</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.IO</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Reflection</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Runtime.InteropServices</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Cairo</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Gtk</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Gdk</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> GtkCairo
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">string</span> GetEmptyPath <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">string</span> bpath <span style="color: #008000;">=</span> <span style="color: #666666;">&quot;temp&quot;</span>, path <span style="color: #008000;">=</span> <span style="color: #666666;">&quot;temp&quot;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> File<span style="color: #008000;">.</span><span style="color: #0000FF;">Exists</span> <span style="color: #008000;">&#40;</span>path<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
            path <span style="color: #008000;">=</span> bpath <span style="color: #008000;">+</span> i<span style="color: #008000;">.</span><span style="color: #0000FF;">ToString</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">return</span> path<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">double</span> Max <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">params</span> <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> arr<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">int</span> minp <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> arr<span style="color: #008000;">.</span><span style="color: #0000FF;">Length</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
            <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>arr<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #008000;">&gt;</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span>
                minp <span style="color: #008000;">=</span> i<span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">return</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">.</span><span style="color: #0000FF;">Length</span> <span style="color: #008000;">!=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            Console<span style="color: #008000;">.</span><span style="color: #0000FF;">WriteLine</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;usage: mono viewer.exe ImageFileName&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            <span style="color: #0600FF; font-weight: bold;">return</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Init</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">Pixbuf</span> display<span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">&#91;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ToLower</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">.</span><span style="color: #0000FF;">EndsWith</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;.svg&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span>
            display <span style="color: #008000;">=</span> Rsvg<span style="color: #008000;">.</span><span style="color: #0000FF;">Pixbuf</span><span style="color: #008000;">.</span><span style="color: #0000FF;">FromFile</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">&#91;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">else</span>
            display <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Pixbuf <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">&#91;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> w <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Viewer- scale: &quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #6666cc; font-weight: bold;">string</span> tempname <span style="color: #008000;">=</span> GetEmptyPath <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #6666cc; font-weight: bold;">double</span> scale <span style="color: #008000;">=</span> Max <span style="color: #008000;">&#40;</span>display<span style="color: #008000;">.</span><span style="color: #0000FF;">Width</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">800.0</span>, display<span style="color: #008000;">.</span><span style="color: #0000FF;">Height</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">600.0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>scale <span style="color: #008000;">&lt;</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span>
            scale <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span>
&#160;
        display <span style="color: #008000;">=</span> display<span style="color: #008000;">.</span><span style="color: #0000FF;">ScaleSimple</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>display<span style="color: #008000;">.</span><span style="color: #0000FF;">Width</span> <span style="color: #008000;">/</span> scale<span style="color: #008000;">&#41;</span>, <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>display<span style="color: #008000;">.</span><span style="color: #0000FF;">Height</span> <span style="color: #008000;">/</span> scale<span style="color: #008000;">&#41;</span>, InterpType<span style="color: #008000;">.</span><span style="color: #0000FF;">Bilinear</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        display<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span>tempname, <span style="color: #666666;">&quot;png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">Title</span> <span style="color: #008000;">+=</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">100</span> <span style="color: #008000;">/</span> scale<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">.</span><span style="color: #0000FF;">ToString</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">+</span> <span style="color: #666666;">&quot;%&quot;</span><span style="color: #008000;">;</span>
        ImageSurface img <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> ImageSurface <span style="color: #008000;">&#40;</span>tempname<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        File<span style="color: #008000;">.</span><span style="color: #0000FF;">Delete</span> <span style="color: #008000;">&#40;</span>tempname<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">Resize</span> <span style="color: #008000;">&#40;</span>img<span style="color: #008000;">.</span><span style="color: #0000FF;">Width</span>, img<span style="color: #008000;">.</span><span style="color: #0000FF;">Height</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        DrawingArea a <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CairoGraphic <span style="color: #008000;">&#40;</span>img<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Box box <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> HBox <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">true</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        box<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>a<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>box<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">DeleteEvent</span> <span style="color: #008000;">+=</span> close_window<span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">ShowAll</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Run</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> close_window <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">object</span> obj, DeleteEventArgs args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Quit</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> CairoGraphic <span style="color: #008000;">:</span> DrawingArea
<span style="color: #008000;">&#123;</span>
    ImageSurface src<span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> CairoGraphic <span style="color: #008000;">&#40;</span>ImageSurface src<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">this</span><span style="color: #008000;">.</span><span style="color: #0000FF;">src</span> <span style="color: #008000;">=</span> src<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">bool</span> OnExposeEvent <span style="color: #008000;">&#40;</span>Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">EventExpose</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>Context g <span style="color: #008000;">=</span> Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">CairoHelper</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Create</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Source</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Pattern <span style="color: #008000;">&#40;</span>src<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Paint</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>
        <span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #0600FF; font-weight: bold;">true</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>To compile this sample type in the terminal:
</p>
<pre class="bash" style="font-family:monospace;">mcs viewer.cs -pkg:mono-cairo -pkg:gtk-sharp-<span style="color: #000000;">2.0</span> -pkg:rsvg-sharp-<span style="color: #000000;">2.0</span></pre>
<h3> <span class="mw-headline" id="Transformations">Transformations</span></h3>
<p>With Cairo, you can move,rotate and scale the coordinates.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a href="{{site.baseurl}}/images/old_site/4/4a/Transform.png" class="image"><img alt="Transform.png" src="{{site.baseurl}}/images/old_site/4/4a/Transform.png" width="150" height="156" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.baseurl}}/images/old_site/4/4a/Transform.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">//    transform.cs</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.IO</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Reflection</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Runtime.InteropServices</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Cairo</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Gtk</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> GtkCairo
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Init</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> w <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Mono-Cairo Transforms&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">Resize</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">500</span>, <span style="color: #FF0000;">500</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        DrawingArea a <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CairoGraphic <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Box box <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> HBox <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">true</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        box<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>a<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>box<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">DeleteEvent</span> <span style="color: #008000;">+=</span> close_window<span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">ShowAll</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Run</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> close_window <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">object</span> obj, DeleteEventArgs args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Quit</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> CairoGraphic <span style="color: #008000;">:</span> DrawingArea
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> DrawRoundedRectangle <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">double</span> x, <span style="color: #6666cc; font-weight: bold;">double</span> y, <span style="color: #6666cc; font-weight: bold;">double</span> width, <span style="color: #6666cc; font-weight: bold;">double</span> height, <span style="color: #6666cc; font-weight: bold;">double</span> radius<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#40;</span>radius <span style="color: #008000;">&gt;</span> height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">||</span> <span style="color: #008000;">&#40;</span>radius <span style="color: #008000;">&gt;</span> width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span>
            radius <span style="color: #008000;">=</span> Min <span style="color: #008000;">&#40;</span>height <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, width <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, radius, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span>, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y <span style="color: #008000;">+</span> radius, radius, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> width <span style="color: #008000;">-</span> radius, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius, radius, <span style="color: #FF0000;">0</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">LineTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> height<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> height <span style="color: #008000;">-</span> radius, radius, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">ClosePath</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Restore</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">double</span> Min <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">params</span> <span style="color: #6666cc; font-weight: bold;">double</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> arr<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">int</span> minp <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> arr<span style="color: #008000;">.</span><span style="color: #0000FF;">Length</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
            <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>arr<span style="color: #008000;">&#91;</span>i<span style="color: #008000;">&#93;</span> <span style="color: #008000;">&lt;</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span>
                minp <span style="color: #008000;">=</span> i<span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">return</span> arr<span style="color: #008000;">&#91;</span>minp<span style="color: #008000;">&#93;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">bool</span> OnExposeEvent <span style="color: #008000;">&#40;</span>Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">EventExpose</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>Context g <span style="color: #008000;">=</span> Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">CairoHelper</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Create</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Translate</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">250</span>, <span style="color: #FF0000;">250</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Rotate</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0.2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Translate</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">-</span><span style="color: #FF0000;">250</span>, <span style="color: #008000;">-</span><span style="color: #FF0000;">250</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">80</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">320</span>, <span style="color: #FF0000;">320</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">80</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">320</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">80</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">320</span>, <span style="color: #FF0000;">40</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">80</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    DrawRoundedRectangle <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">150</span>, <span style="color: #FF0000;">180</span>, <span style="color: #FF0000;">200</span>, <span style="color: #FF0000;">140</span>, <span style="color: #FF0000;">30</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span>, <span style="color: #FF0000;">0.6</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">FillPreserve</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span>, <span style="color: #FF0000;">0.8</span>, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">8</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>	    
        <span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #0600FF; font-weight: bold;">true</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<h3> <span class="mw-headline" id="Truchet_Tiling">Truchet Tiling</span></h3>
<p>After I saw this plugin in gimp, I wanted to make my own improved one:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a href="{{site.baseurl}}/images/old_site/f/f1/TruchetTile.png" class="image"><img alt="TruchetTile.png" src="{{site.baseurl}}/images/old_site/f/f1/TruchetTile.png" width="150" height="156" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{site.baseurl}}/images/old_site/f/f1/TruchetTile.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">//    truchet.cs</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Reflection</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Runtime.InteropServices</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Cairo</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Gtk</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> GtkCairo
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Init</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> w <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Gtk<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Mono-Cairo Truchet Tile&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        DrawingArea a <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CairoGraphic <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Box box <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> HBox <span style="color: #008000;">&#40;</span><span style="color: #0600FF; font-weight: bold;">true</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        box<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>a<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        w<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span> <span style="color: #008000;">&#40;</span>box<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">Resize</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">500</span>, <span style="color: #FF0000;">500</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">DeleteEvent</span> <span style="color: #008000;">+=</span> close_window<span style="color: #008000;">;</span>
        w<span style="color: #008000;">.</span><span style="color: #0000FF;">ShowAll</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Run</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> close_window <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">object</span> obj, DeleteEventArgs args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Application<span style="color: #008000;">.</span><span style="color: #0000FF;">Quit</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Truchet
<span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">enum</span> DrawingMethod
    <span style="color: #008000;">&#123;</span>
        Curved <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span>,
        Rounded,
        Random
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #6666cc; font-weight: bold;">delegate</span> <span style="color: #6666cc; font-weight: bold;">void</span> CellDrawing <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">int</span> i, <span style="color: #6666cc; font-weight: bold;">int</span> j, <span style="color: #6666cc; font-weight: bold;">double</span> radius, <span style="color: #6666cc; font-weight: bold;">bool</span> rotate<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
    <span style="color: #6666cc; font-weight: bold;">bool</span><span style="color: #008000;">&#91;</span>,<span style="color: #008000;">&#93;</span> field<span style="color: #008000;">;</span>
    <span style="color: #6666cc; font-weight: bold;">double</span> Radius<span style="color: #008000;">;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> CellDrawing<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> DrawingMethods<span style="color: #008000;">;</span>
    DrawingMethod meth<span style="color: #008000;">;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">int</span> qmethods <span style="color: #008000;">=</span> <span style="color: #6666cc; font-weight: bold;">Enum</span><span style="color: #008000;">.</span><span style="color: #0000FF;">GetValues</span> <span style="color: #008000;">&#40;</span><a href="http://www.google.com/search?q=typeof+msdn.microsoft.com"><span style="color: #008000;">typeof</span></a> <span style="color: #008000;">&#40;</span>DrawingMethod<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Length</span> <span style="color: #008000;">-</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> Truchet <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> x, <span style="color: #6666cc; font-weight: bold;">int</span> y, <span style="color: #6666cc; font-weight: bold;">double</span> radius<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">this</span><span style="color: #008000;">.</span><span style="color: #0000FF;">field</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> <span style="color: #6666cc; font-weight: bold;">bool</span><span style="color: #008000;">&#91;</span>x, y<span style="color: #008000;">&#93;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">this</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Radius</span> <span style="color: #008000;">=</span> radius<span style="color: #008000;">;</span>
        InitDMethods <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        meth <span style="color: #008000;">=</span> DrawingMethod<span style="color: #008000;">.</span><span style="color: #0000FF;">Curved</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #6666cc; font-weight: bold;">void</span> InitDMethods <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        DrawingMethods <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CellDrawing<span style="color: #008000;">&#91;</span>qmethods<span style="color: #008000;">&#93;</span><span style="color: #008000;">;</span>
        DrawingMethods<span style="color: #008000;">&#91;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#93;</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CellDrawing <span style="color: #008000;">&#40;</span>CurvedCell<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        DrawingMethods<span style="color: #008000;">&#91;</span><span style="color: #FF0000;">1</span><span style="color: #008000;">&#93;</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> CellDrawing <span style="color: #008000;">&#40;</span>RoundedCell<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GenerateMap <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        Random Rand <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Random <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
            <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> j <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> j <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> j<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
                <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>Rand<span style="color: #008000;">.</span><span style="color: #0000FF;">Next</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">==</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span>
                    SetCell <span style="color: #008000;">&#40;</span>i, j, <span style="color: #0600FF; font-weight: bold;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
                <span style="color: #0600FF; font-weight: bold;">else</span>
                    SetCell <span style="color: #008000;">&#40;</span>i, j, <span style="color: #0600FF; font-weight: bold;">false</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> SetCell <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> x, <span style="color: #6666cc; font-weight: bold;">int</span> y, <span style="color: #6666cc; font-weight: bold;">bool</span> rotated<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        field<span style="color: #008000;">&#91;</span>x, y<span style="color: #008000;">&#93;</span> <span style="color: #008000;">=</span> rotated<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> SetDrawingMethod <span style="color: #008000;">&#40;</span>DrawingMethod method<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        meth <span style="color: #008000;">=</span> method<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> RenderMap <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">double</span> x0, <span style="color: #6666cc; font-weight: bold;">double</span> y0<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>meth <span style="color: #008000;">!=</span> DrawingMethod<span style="color: #008000;">.</span><span style="color: #0000FF;">Random</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
                <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> j <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> j <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> j<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
                    DrawingMethods<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span><span style="color: #008000;">&#41;</span>meth<span style="color: #008000;">&#93;</span> <span style="color: #008000;">&#40;</span>gr, i, j, Radius, field<span style="color: #008000;">&#91;</span>i, j<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span> <span style="color: #0600FF; font-weight: bold;">else</span> <span style="color: #008000;">&#123;</span>
            Random Rand <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Random <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> i <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> i <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> i<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
                <span style="color: #0600FF; font-weight: bold;">for</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">int</span> j <span style="color: #008000;">=</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">;</span> j <span style="color: #008000;">&lt;</span> field<span style="color: #008000;">.</span><span style="color: #0000FF;">GetLength</span> <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span> j<span style="color: #008000;">++</span><span style="color: #008000;">&#41;</span>
                    DrawingMethods<span style="color: #008000;">&#91;</span>Rand<span style="color: #008000;">.</span><span style="color: #0000FF;">Next</span> <span style="color: #008000;">&#40;</span>qmethods<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#93;</span> <span style="color: #008000;">&#40;</span>gr, i, j, Radius, field<span style="color: #008000;">&#91;</span>i, j<span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> CurvedCell <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">int</span> i, <span style="color: #6666cc; font-weight: bold;">int</span> j, <span style="color: #6666cc; font-weight: bold;">double</span> radius, <span style="color: #6666cc; font-weight: bold;">bool</span> rotate<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">double</span> cellsize <span style="color: #008000;">=</span> radius <span style="color: #008000;">*</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">;</span>
        <span style="color: #6666cc; font-weight: bold;">double</span> x <span style="color: #008000;">=</span> cellsize <span style="color: #008000;">*</span> i, y <span style="color: #008000;">=</span> cellsize <span style="color: #008000;">*</span> j<span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>rotate<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> cellsize, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> cellsize<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span> <span style="color: #0600FF; font-weight: bold;">else</span> <span style="color: #008000;">&#123;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> cellsize, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">CurveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> radius, x <span style="color: #008000;">+</span> radius, y <span style="color: #008000;">+</span> cellsize<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Restore</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> RoundedCell <span style="color: #008000;">&#40;</span>Cairo<span style="color: #008000;">.</span><span style="color: #0000FF;">Context</span> gr, <span style="color: #6666cc; font-weight: bold;">int</span> i, <span style="color: #6666cc; font-weight: bold;">int</span> j, <span style="color: #6666cc; font-weight: bold;">double</span> radius, <span style="color: #6666cc; font-weight: bold;">bool</span> rotate<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">double</span> cellsize <span style="color: #008000;">=</span> radius <span style="color: #008000;">*</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">;</span>
        <span style="color: #6666cc; font-weight: bold;">double</span> x <span style="color: #008000;">=</span> cellsize <span style="color: #008000;">*</span> i, y <span style="color: #008000;">=</span> cellsize <span style="color: #008000;">*</span> j<span style="color: #008000;">;</span>
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Save</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>rotate<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x, y, radius, <span style="color: #FF0000;">0</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> cellsize, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">ArcNegative</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> cellsize, y <span style="color: #008000;">+</span> cellsize, radius, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
        <span style="color: #008000;">&#125;</span> <span style="color: #0600FF; font-weight: bold;">else</span> <span style="color: #008000;">&#123;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> radius<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Arc</span> <span style="color: #008000;">&#40;</span>x, y <span style="color: #008000;">+</span> cellsize, radius, <span style="color: #008000;">-</span>Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">MoveTo</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> radius, y<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            gr<span style="color: #008000;">.</span><span style="color: #0000FF;">ArcNegative</span> <span style="color: #008000;">&#40;</span>x <span style="color: #008000;">+</span> cellsize, y, radius, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span>, Math<span style="color: #008000;">.</span><span style="color: #0000FF;">PI</span> <span style="color: #008000;">/</span> <span style="color: #FF0000;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
&#160;
        <span style="color: #008000;">&#125;</span>
&#160;
        gr<span style="color: #008000;">.</span><span style="color: #0000FF;">Restore</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> CairoGraphic <span style="color: #008000;">:</span> DrawingArea
<span style="color: #008000;">&#123;</span>
    Truchet tr<span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> CairoGraphic <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        tr <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Truchet <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">10</span>, <span style="color: #FF0000;">10</span>, <span style="color: #FF0000;">25</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        tr<span style="color: #008000;">.</span><span style="color: #0000FF;">GenerateMap</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">bool</span> OnExposeEvent <span style="color: #008000;">&#40;</span>Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">EventExpose</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
	<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008000;">&#40;</span>Context g <span style="color: #008000;">=</span> Gdk<span style="color: #008000;">.</span><span style="color: #0000FF;">CairoHelper</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Create</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">.</span><span style="color: #0000FF;">Window</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#123;</span>
	    tr<span style="color: #008000;">.</span><span style="color: #0000FF;">RenderMap</span> <span style="color: #008000;">&#40;</span>g, <span style="color: #FF0000;">0</span>, <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Color</span> <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Color <span style="color: #008000;">&#40;</span><span style="color: #FF0000;">0.6</span>, <span style="color: #FF0000;">0.9</span>, <span style="color: #FF0000;">0.2</span>, <span style="color: #FF0000;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">LineWidth</span> <span style="color: #008000;">=</span> <span style="color: #FF0000;">6</span><span style="color: #008000;">;</span>
	    g<span style="color: #008000;">.</span><span style="color: #0000FF;">Stroke</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>
        <span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #0600FF; font-weight: bold;">true</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>

