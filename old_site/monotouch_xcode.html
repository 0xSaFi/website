---
layout: obsolete
title: "MonoTouch XCode"
permalink: /old_site/MonoTouch_XCode/
redirect_from:
  - /MonoTouch_XCode/
---

<h1>MonoTouch XCode</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Sanity_Check"><span class="tocnumber">2</span> <span class="toctext">Sanity Check</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Using_the_MonoTouch_Framework"><span class="tocnumber">3</span> <span class="toctext">Using the MonoTouch Framework</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Embedding_the_Sample"><span class="tocnumber">4</span> <span class="toctext">Embedding the Sample</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Requirements"> Requirements </span></h1>
<p>To get started with MonoTouch and XCode you will need to install:
</p>
<ul><li> XCode from Apple
</li><li> iPhone developer SDK from Apple
</li><li> MonoTouch
</li></ul>
<h1> <span class="mw-headline" id="Sanity_Check"> Sanity Check </span></h1>
<p>Once you have the above, start XCode and create a simple shell that will contain Mono, this is done by following these steps:
</p>
<ul><li> From the File Menu, select New Project
</li><li> Select in iPhone OS the "Window based application" option.
</li><li> Select Run from the Run menu 
</li></ul>
<p>The above should launch an empty application in the iPhone simulator.    
</p><p><b>Device Developers</b>: If you are a registered iPhone developer, you will want to also test that the above application runs on the iPhone or the iPod Touch by changing the Active SDK from "Simulator- XX | Debug" to "Device - XX | Debug" where XX is the version of the SDK that you have installed.   Make sure that this application works correctly before proceeding.
</p>
<h1> <span class="mw-headline" id="Using_the_MonoTouch_Framework"> Using the MonoTouch Framework </span></h1>
<p>To use MonoTouch with your existing Objective-C project, you need to use the MonoTouch Framework.   Follow these steps to prepare your project:
</p>
<ol><li> Open your project and go to Project-&gt;Edit Project Settings and select the "Build" tab
</li><li> Change the Configuration drop down to "All Configurations"
</li><li> Add "/Developer/MonoTouch/SDKs/MonoTouch1.0.$(PLATFORM_NAME).sdk" to the "Additional SDKs" field
</li><li> Add "-liconv -lmono -lmonotouch" to the "Other Linker Flags" field
</li><li> Change the "Code Signing Resource Rules Path" to "$(SDKROOT)/ResourceRules.plist"
</li></ol>
<h1> <span class="mw-headline" id="Embedding_the_Sample"> Embedding the Sample </span></h1>
<p>The next step is to create a sample C# program that will drive your application, from the File menu create a new file, select "Other" and then "Empty file" and call this "simple.cs"
</p><p>In this file put the following code:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">MonoTouch.UIKit</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #6666cc; font-weight: bold;">class</span> Sample <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span> <span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> args<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        UIApplication<span style="color: #008000;">.</span><span style="color: #0000FF;">Main</span> <span style="color: #008000;">&#40;</span>args<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>You can compile the above program using the MonoTouch C# compiler, like this:
</p>
<pre class="bash" style="font-family:monospace;">smcs simple.cs -r:monotouch.dll</pre>
<p>The next is to <a href="{{site.github.url}}/old_site/Embedding_Mono" title="Embedding Mono">embed Mono</a> in your Objective-C code and to have the code call the C# code.   The simplest thing is to get the basics generated by the mtouch tool, issue the following command:
</p>
<pre class="bash" style="font-family:monospace;"><span style="color: #666666;">$ </span>mtouch simple.exe</pre>
<p>The result of running the above command will produce a few files:
</p>
<ul><li> main.m: the source code to embed Mono in your Objective-C code.
</li><li> *.s: various files that contain the ARM assembly code for your program and any of their dependencies.
</li><li> Info.plist: a sample Info.plist that you can use
</li><li> PkgInfo: a sample PkgInfo that you can use.
</li></ul>
<p>You must add all of the <code>*.m</code> and <code>*.s</code> files to your build.
</p>
