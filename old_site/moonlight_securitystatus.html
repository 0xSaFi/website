---
layout: obsolete
title: "Moonlight/SecurityStatus"
permalink: /old_site/Moonlight/SecurityStatus/
redirect_from:
  - /Moonlight/SecurityStatus/
---

<h1>Moonlight/SecurityStatus</h1>

<p>This page list the security related <b>features</b> of Moonlight. Another <a href="{{site.github.url}}/old_site/SecurityValidation" title="SecurityValidation">page</a> list the <b>validations</b> needed to ensure <b>both</b> the <a href="{{site.github.url}}/old_site/Moonlight" title="Moonlight">Moonlight</a> and Mono security features are working.
</p><p><b>Note:</b> Simply search for <b>TODO</b> or <b>partial</b> on this page to see the current restrictions.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#CoreCLR_Security_Model"><span class="tocnumber">1</span> <span class="toctext">CoreCLR Security Model</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Plugin_Sandbox"><span class="tocnumber">2</span> <span class="toctext">Plugin Sandbox</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#AllowHtmlPopupWindow"><span class="tocnumber">2.1</span> <span class="toctext">AllowHtmlPopupWindow</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#EnableHtmlAccess"><span class="tocnumber">2.2</span> <span class="toctext">EnableHtmlAccess</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#ExternalCallersFromCrossDomain"><span class="tocnumber">2.3</span> <span class="toctext">ExternalCallersFromCrossDomain</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Out_Of_Browser"><span class="tocnumber">2.4</span> <span class="toctext">Out Of Browser</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Elevated_Trust"><span class="tocnumber">2.5</span> <span class="toctext">Elevated Trust</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Additional_documentation"><span class="tocnumber">2.6</span> <span class="toctext">Additional documentation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Networking"><span class="tocnumber">3</span> <span class="toctext">Networking</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Uri"><span class="tocnumber">3.1</span> <span class="toctext">Uri</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Deep_Linking"><span class="tocnumber">3.1.1</span> <span class="toctext">Deep Linking</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Web"><span class="tocnumber">3.2</span> <span class="toctext">Web</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Managed"><span class="tocnumber">3.2.1</span> <span class="toctext">Managed</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#JavaScript"><span class="tocnumber">3.2.2</span> <span class="toctext">JavaScript</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Client_Http_Stack"><span class="tocnumber">3.2.3</span> <span class="toctext">Client Http Stack</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Http_Stack_Registration"><span class="tocnumber">3.2.4</span> <span class="toctext">Http Stack Registration</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Others"><span class="tocnumber">3.2.5</span> <span class="toctext">Others</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Security_Zones"><span class="tocnumber">3.2.6</span> <span class="toctext">Security Zones</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#Sockets"><span class="tocnumber">3.3</span> <span class="toctext">Sockets</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#UDP_Multicast"><span class="tocnumber">3.3.1</span> <span class="toctext">UDP Multicast</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Tools"><span class="tocnumber">3.3.2</span> <span class="toctext">Tools</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#XmlXapResolver"><span class="tocnumber">3.4</span> <span class="toctext">XmlXapResolver</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Local_I.2FO"><span class="tocnumber">4</span> <span class="toctext">Local I/O</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Isolated_Storage"><span class="tocnumber">4.1</span> <span class="toctext">Isolated Storage</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Quota"><span class="tocnumber">4.1.1</span> <span class="toctext">Quota</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Classes"><span class="tocnumber">4.1.2</span> <span class="toctext">Classes</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Additional_documentation_2"><span class="tocnumber">4.1.3</span> <span class="toctext">Additional documentation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#OpenFileDialog"><span class="tocnumber">4.2</span> <span class="toctext">OpenFileDialog</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#SaveFileDialog"><span class="tocnumber">4.3</span> <span class="toctext">SaveFileDialog</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Local_Messaging"><span class="tocnumber">4.4</span> <span class="toctext">Local Messaging</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#Digital_Rights_Management"><span class="tocnumber">5</span> <span class="toctext">Digital Rights Management</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#Others_2"><span class="tocnumber">6</span> <span class="toctext">Others</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#Regular_Expressions"><span class="tocnumber">6.1</span> <span class="toctext">Regular Expressions</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#User_Initiated_Events"><span class="tocnumber">6.2</span> <span class="toctext">User Initiated Events</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Assembly_Loading"><span class="tocnumber">6.3</span> <span class="toctext">Assembly Loading</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Shader_Effects"><span class="tocnumber">6.4</span> <span class="toctext">Shader Effects</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Surface_reduction"><span class="tocnumber">6.5</span> <span class="toctext">Surface reduction</span></a>
<ul>
<li class="toclevel-3 tocsection-38"><a href="#Mono"><span class="tocnumber">6.5.1</span> <span class="toctext">Mono</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="#Base_Class_Library_.28BCL.29"><span class="tocnumber">6.5.2</span> <span class="toctext">Base Class Library (BCL)</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="CoreCLR_Security_Model"> CoreCLR Security Model </span></h1>
<ul><li> mono
<ul><li> most logic resides inside <a href="http://anonsvn.mono-project.com/viewvc/trunk/mono/mono/metadata/security-core-clr.c?view=markup" class="external text" rel="nofollow">security-core-clr.c</a>
</li><li> tests are located in <a href="http://anonsvn.mono-project.com/viewvc/trunk/mono/mono/tests/coreclr-security.cs?view=markup" class="external text" rel="nofollow">coreclr-security.cs</a>
</li><li> status: <b>complete</b>
</li></ul>
</li><li> moonlight
<ul><li> most logic resides inside <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/src/security.c?view=markup" class="external text" rel="nofollow">security.c</a>, including:
<ul><li> mono initialization of coreclr and the verifier
</li><li> callback to determine which assemblies are "platform code"
</li></ul>
</li><li> status: <b>complete</b>
</li></ul>
</li><li> unit tests
<ul><li> location: <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/test/2.0/moon-unit/security/" class="external text" rel="nofollow">/moon/test/2.0/moon-unit/security/*.cs</a>
</li><li> status: <b>more needed</b>, in particular for SRE
</li></ul>
</li><li> attributes (class libraries)
<ul><li> Added during the <i>tuning</i> process
</li><li> Based on the output of tools located inside <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/class/tuning/SecurityAttributes/" class="external text" rel="nofollow">moon/class/tuning/SecurityAttributes/</a>
</li><li> status: <b>active</b>
</li></ul>
</li><li> Documentation
<ul><li> <a href="{{site.github.url}}/old_site/Moonlight2CoreCLR" title="Moonlight2CoreCLR">CoreCLR security model</a>
</li><li> <a href="{{site.github.url}}/old_site/MoonlightSecurity" title="MoonlightSecurity">Moonlight Implementation Details</a>
</li></ul>
</li></ul>
<h1> <span class="mw-headline" id="Plugin_Sandbox"> Plugin Sandbox </span></h1>
<h2> <span class="mw-headline" id="AllowHtmlPopupWindow"> AllowHtmlPopupWindow </span></h2>
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/cc974117(VS.95).aspx" class="external text" rel="nofollow">Plugin property (setter)</a>
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.windows.browser.htmlpage.ispopupwindowallowed(VS.95).aspx" class="external text" rel="nofollow">Managed property (getter)</a>
</li><li> status: <b>complete</b> (ML 2.1+ and ML 3.0 preview 2+)
</li></ul>
<h2> <span class="mw-headline" id="EnableHtmlAccess"> EnableHtmlAccess </span></h2>
<p>Control access from Silverlight managed code to JavaScript and the DOM. 
</p>
<ul><li> Default value is:
<ul><li> <b>True</b> for <i>same-domain</i> applications; and
</li><li> <b>False</b> for <i>cross-domain</i> applications.
</li></ul>
</li><li> <a href="http://msdn.microsoft.com/en-us/library/cc838264(VS.95).aspx" class="external text" rel="nofollow">Plugin property (setter)</a>
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.windows.interop.settings.enablehtmlaccess(VS.95).aspx" class="external text" rel="nofollow">Managed property (getter)</a>
</li><li> status: <b>complete</b>
<ul><li> works for same-domain applications
</li><li> <b>undocumented</b> HTML and XAP served on different ports is <b>not</b> cross (or even same) domain. It does not show anything on SL2 (and makes a very bad test case)
</li></ul>
</li><li> test application available <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/test/2.0/enableHtmlAccess/" class="external text" rel="nofollow">here</a>
</li></ul>
<h2> <span class="mw-headline" id="ExternalCallersFromCrossDomain"> ExternalCallersFromCrossDomain </span></h2>
<p>Control access from JavaScript and the DOM into Silverlight managed code.
</p>
<ul><li> Documentation
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/system.windows.deployment.externalcallersfromcrossdomain(VS.95).aspx" class="external text" rel="nofollow">ExternalCallersFromCrossDomain</a>
</li></ul>
</li><li> status: <b>complete</b>
</li></ul>
<h2> <span class="mw-headline" id="Out_Of_Browser"> Out Of Browser </span></h2>
<p>Silverlight 3 feature
</p>
<ul><li> status: <b>TODO</b>
</li></ul>
<h2> <span class="mw-headline" id="Elevated_Trust"> Elevated Trust </span></h2>
<p>Silverlight 4 feature
</p>
<ul><li> status: <b>TODO</b>
</li></ul>
<h2> <span class="mw-headline" id="Additional_documentation"> Additional documentation </span></h2>
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/cc645023(VS.95).aspx" class="external text" rel="nofollow">Security Settings in HTML Bridge (MSDN)</a>
</li></ul>
<h1> <span class="mw-headline" id="Networking"> Networking </span></h1>
<ul><li> Cross-domain access is possible. Rules vary by content type and how they accessed.
</li><li> Documentation
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/cc838250(VS.95).aspx" class="external text" rel="nofollow">HTTP Communication and Security with Silverlight</a>
</li><li> <a href="http://msdn.microsoft.com/en-us/library/cc645032(VS.95).aspx" class="external text" rel="nofollow">Network Security Access Restrictions in Silverlight 2</a>
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Uri"> Uri </span></h2>
<p>Silverlight <a href="http://msdn.microsoft.com/en-us/library/system.uri(VS.95).aspx" class="external text" rel="nofollow">System.Uri</a> is not 100% identical to the one provided by the desktop framework. This affects a number of classes that are using URI.
</p>
<ul><li> <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/test/2.0/moon-unit/System/UriTest.cs?view=markup" class="external text" rel="nofollow">Unit tests</a>
</li><li> <a href="http://nerddawg.blogspot.com/2008/03/silverlight-2-demystifying-uri.html" class="external text" rel="nofollow">Silverlight 2: Demystifying URI references for app resources</a>
</li></ul>
<h3> <span class="mw-headline" id="Deep_Linking"> Deep Linking </span></h3>
<p>Silverlight 3 feature
</p>
<ul><li> Status: <b>TODO</b>
</li></ul>
<h2> <span class="mw-headline" id="Web"> Web </span></h2>
<p>There are multiple ways to retrieve data from the web.
</p>
<h3> <span class="mw-headline" id="Managed"> Managed </span></h3>
<p><a href="http://msdn.microsoft.com/en-us/library/system.net.webclient(VS.95).aspx" class="external text" rel="nofollow">WebClient</a> Class
</p>
<ul><li> Relative URI are combined with the <a href="http://msdn.microsoft.com/en-us/library/system.net.webclient.baseaddress(VS.95).aspx" class="external text" rel="nofollow">BaseAddress</a>;
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.net.webclient.baseaddress(VS.95).aspx" class="external text" rel="nofollow">BaseAddress</a> defaults to the application XAP absolute URI;
</li></ul>
<p><a href="http://msdn.microsoft.com/en-us/library/system.net.webrequest%28VS.95%29.aspx" class="external text" rel="nofollow">WebRequest</a> Class
</p>
<ul><li> Relative URI are not allowed;
</li><li> Supports <b>http</b> and <b>https</b> using the web browser. This cannot be overridden by registering the http[s] prefixes;
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.net.webrequest.registerprefix(VS.95).aspx" class="external text" rel="nofollow">RegisterPrefix</a> works, so custom protocols are, within SL limits, possible;
</li><li> Cookies are disabled by default
</li></ul>
<p>Cross-domain access is possible using policy files. Either a <i>clientaccesspolicy.xml</i> (Silverlight specific syntax) or a <i>crossdomain.xml</i> (Flash subset syntax) can define the rules.
</p><p>Status: <b>complete</b>
</p>
<h3> <span class="mw-headline" id="JavaScript"> JavaScript </span></h3>
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/bb979676(VS.95).aspx" class="external text" rel="nofollow">Downloader</a> (javascript)
</li><li> status: partial, works like 1.0 (no xdomain support)
</li></ul>
<h3> <span class="mw-headline" id="Client_Http_Stack"> Client Http Stack </span></h3>
<ul><li> Note: Silverlight 3 feature
</li><li> Extended methods (e.g. HEAD, not just GET and POST)
</li><li> Extended status codes (not just 200 and 404)
</li><li> Cookie support
</li><li> Status: <b>partial</b> (mostly an extention to the browser stack at the moment)
</li></ul>
<h3> <span class="mw-headline" id="Http_Stack_Registration"> Http Stack Registration </span></h3>
<p>Since Silverlight 3 support two similar HTTP stack there are some ways to select which one you want to use in your application. The default stack is the browser stack.
</p>
<ul><li> All requests per protocol, e.g. <code>WebRequest.RegisterPrefix("http://")</code>. This can only be done/registred once per application execution.
</li><li> For a specific domain, e.g. <code>WebRequest.RegisterPrefix ("<a href="http://www.domain.com" class="external free" rel="nofollow">http://www.domain.com</a>")</code>. This can only be done/registred once per application execution.
</li><li> For a single object, e.g. <code>WebRequestCreator.Create(uri)</code>
</li><li> Status: <b>partial</b>
</li></ul>
<p>Ref: <a href="http://msdn.microsoft.com/en-us/library/dd920295%28VS.95%29.aspx" class="external free" rel="nofollow">http://msdn.microsoft.com/en-us/library/dd920295%28VS.95%29.aspx</a>
</p>
<h3> <span class="mw-headline" id="Others"> Others </span></h3>
<p>There are different rules for downloading special content, by type:
</p>
<ul><li> Image and MediaElement classes
</li><li> XAML source files
</li><li> Font files
</li><li> Stream media
</li></ul>
<p>Documentation
</p>
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/cc189008(VS.95).aspx" class="external text" rel="nofollow">URL Access Restrictions in Silverlight 2</a>
</li></ul>
<h3> <span class="mw-headline" id="Security_Zones"> Security Zones </span></h3>
<p><b>Cross-zone URL</b> are an <i>Internet Explorer</i> concept and is not supported by Silverlight 2 outside Windows (e.g. <a href="http://msdn.microsoft.com/en-us/library/cc189008(VS.95).aspx" class="external text" rel="nofollow">Mac OS X</a>). This feature is <b>NOT</b> supported by Moonlight.
</p>
<h2> <span class="mw-headline" id="Sockets"> Sockets </span></h2>
<ul><li> The plugin is limited to connect on <b>TCP</b> ports in the 4502-4534 range. The cross-domain policy can further restrict the ports that can be used;
</li><li> A cross-domain policy is <b>always</b> required, even when connecting back to the <i>site of origin</i> (unlike web requests);
</li><li> The plugin will query the host (on port <b>943</b>) to get its policies and decide if a connect attempt can be made;
</li><li> Documentation
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/system.net.sockets.socket(VS.95).aspx" class="external text" rel="nofollow">Socket class</a> (managed)
</li><li> <a href="http://msdn.microsoft.com/en-us/library/cc296248(VS.95).aspx" class="external text" rel="nofollow">MSDN: Working with Sockets</a>
</li><li> <a href="http://blogs.msdn.com/ncl/archive/2009/06/23/why-does-silverlight-have-a-restricted-port-range-for-sockets.aspx" class="external text" rel="nofollow">Why does Silverlight have a restricted port range for Sockets?</a>
</li></ul>
</li><li> Status: <b>complete</b>
</li></ul>
<h3> <span class="mw-headline" id="UDP_Multicast"> UDP Multicast </span></h3>
<p>Silverlight 4 (beta) feature
</p>
<ul><li> Status: <b>TODO</b>
</li></ul>
<h3> <span class="mw-headline" id="Tools"> Tools </span></h3>
<p><b>sockpol</b>: A socket policy server <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/tools/sockpol/sockpol.cs?view=markup" class="external text" rel="nofollow">source</a> that listen to port <b>943</b> and serves socket policies. You can use it <i>as-is</i> or merge it into your server-based application when developing the server part of a Moonlight application using sockets.
</p>
<h2> <span class="mw-headline" id="XmlXapResolver"> XmlXapResolver </span></h2>
<ul><li> Status: <b>complete</b>
</li><li> Documentation: <a href="http://msdn.microsoft.com/en-us/library/system.xml.xmlxapresolver(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> This is the default resolver used on
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument(VS.95).aspx" class="external text" rel="nofollow">XDocument</a>;
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.xml.xmlreader(VS.95).aspx" class="external text" rel="nofollow">XmlReader</a>; and
</li><li> <a href="http://msdn.microsoft.com/en-us/library/system.xml.xmlreadersettings(VS.95).aspx" class="external text" rel="nofollow">XmlReaderSettings</a>
</li></ul>
</li></ul>
<h1> <span class="mw-headline" id="Local_I.2FO"> Local I/O </span></h1>
<p>Silverlight provides limited access to the local files.
</p>
<h2> <span class="mw-headline" id="Isolated_Storage"> Isolated Storage </span></h2>
<p>In the <i>classic</i> framework the isolation was based on the appdomain, assembly, application and evidences. In Silverlight it is based on the site and application URL. Similar in concept but the source code is not.
</p>
<ul><li> status: <b>partial</b>
</li><li> TODO
<ul><li> UI to manage storage (from right-click menu), including a global switch to turn IsolatedStorage on or off
</li><li> SL3 behavior has changed (for performance reason, looking for a link...)
</li></ul>
</li></ul>
<h3> <span class="mw-headline" id="Quota"> Quota </span></h3>
<ul><li> The default storage quota is <b>1 MB</b> and is shared for all applications on the same site.
<ul><li> Removing (deleting) a storage from the UI reset the quota to 1MB;
</li><li> Calling <a href="http://msdn.microsoft.com/en-us/library/7ay840d1(VS.95).aspx" class="external text" rel="nofollow">IsolatedStorageFile.Remove</a> from code does not change (i.e. reduce the quota).
</li></ul>
</li><li> The default storage quota for <i>out-of-browser</i> application is raised to <b>25 MB</b> (Silverlight 3) and does not shrink back (if the application is removed from the desktop)
</li></ul>
<h3> <span class="mw-headline" id="Classes"> Classes </span></h3>
<ul><li> IsolatedStorageException (mscorlib) <a href="http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/corlib/System.IO.IsolatedStorage/IsolatedStorageException.cs?view=markup" class="external text" rel="nofollow">source</a>, <a href="http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstorageexception(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> IsolatedStorageFile (mscorlib) <a href="http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/corlib/System.IO.IsolatedStorage/MoonIsolatedStorageFile.cs?view=markup" class="external text" rel="nofollow">source</a>, <a href="http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstoragefile(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> IsolatedStorageFileStream (mscorlib) <a href="http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/corlib/System.IO.IsolatedStorage/MoonIsolatedStorageFileStream.cs?view=markup" class="external text" rel="nofollow">source</a>, <a href="http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstoragefilestream(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> IsolatedStorageSettings (System.Windows) <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/class/System.Windows/System.IO.IsolatedStorage/IsolatedStorageSettings.cs?view=markup" class="external text" rel="nofollow">source</a>, <a href="http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstoragesettings(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li></ul>
<h3> <span class="mw-headline" id="Additional_documentation_2"> Additional documentation </span></h3>
<ul><li> <a href="http://msdn.microsoft.com/en-us/magazine/dd458794.aspx" class="external text" rel="nofollow">CLR Inside Out: Isolated Storage In Silverlight 2</a>
</li><li> <a href="http://blogs.msdn.com/jonbox/archive/2009/03/22/silverlight-3-out-of-the-browser.aspx" class="external text" rel="nofollow">Silverlight 3: Out of the Browser</a>, Mike Harsh @ MIX09 (beta)
</li></ul>
<h2> <span class="mw-headline" id="OpenFileDialog"> OpenFileDialog </span></h2>
<p>Silverlight 2 provides a <b>Open File</b> dialog which let the user select any file on his computer. The application can get access to its name (not the full path, just the filename) and a read-only Stream to it.
</p>
<ul><li> Source: <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/class/System.Windows/System.Windows.Controls/OpenFileDialog.cs?view=markup" class="external text" rel="nofollow">OpenFileDialog.cs</a>
</li><li> Documentation: <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.openfiledialog(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> Status: <b>complete</b>
</li><li> Notes
<ul><li> Unit tests are mostly <b>ignored</b> due to required user interaction
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="SaveFileDialog"> SaveFileDialog </span></h2>
<p>Silverlight 3 also provides a <b>Save File</b> dialog that works similarly to the OpenFileDialog (present in Silverlight 2).
</p>
<ul><li> Source: <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/class/System.Windows/System.Windows.Controls/OpenFileDialog.cs?view=markup" class="external text" rel="nofollow">SaveFileDialog.cs</a>
</li><li> Documentation: <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.savefiledialog(VS.96).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> Status: <b>complete</b>
</li><li> Notes
<ul><li> Unlike OpenFileDialog it can only be called from a user action (e.g. mouse click) otherwise a <code>SecurityException</code> is thrown.
</li><li> Unit tests are mostly <b>ignored</b> due to required user interaction
</li><li> The dialog warn if we're about to replace an existing file;
</li><li> It is possible to create a new directory from this dialog;
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Local_Messaging"> Local Messaging </span></h2>
<p>Silverlight 3 feature
</p>
<ul><li> Status: <b>TODO</b>
</li></ul>
<h1> <span class="mw-headline" id="Digital_Rights_Management"> Digital Rights Management </span></h1>
<p>Silverlight 2 supports Microsoft <i>PlayReady</i> Digital Rights Management (DRM). This is the DRM solution being used by Netflix's “Watch Instantly” service for streaming movies to PC (Windows-only) and Mac computers.
</p><p>Status: <b>unsupported</b>
</p><p>More information:
</p>
<ul><li> <a href="http://msdn.microsoft.com/en-us/library/cc838192(VS.95).aspx" class="external text" rel="nofollow">MSDN</a>
</li><li> <a href="http://www.netflix.com/HowItWorks#faq8" class="external text" rel="nofollow">Netflix FAQ</a>
</li></ul>
<h1> <span class="mw-headline" id="Others_2"> Others </span></h1>
<h2> <span class="mw-headline" id="Regular_Expressions"> Regular Expressions </span></h2>
<ul><li> Compiled regex are <b>not</b> supported by Silverlight
</li><li> Status: <b>complete</b>
</li></ul>
<h2> <span class="mw-headline" id="User_Initiated_Events"> User Initiated Events </span></h2>
<p>In Silverlight some actions can only occurs if they are initiated directly by the user, e.g. a mouse click or a keyboard event. Otherwise the expected action will not occur, e.g.
</p>
<ul><li> setting <a href="http://msdn.microsoft.com/en-us/library/system.windows.interop.content.isfullscreen(vs.95).aspx" class="external text" rel="nofollow">Content.IsFullscreen</a> to <b>true</b> will be ignored;
</li><li> calling <a href="http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstoragefile.increasequotato(VS.95).aspx" class="external text" rel="nofollow">IsolatedFileStorage.IncreaseQuotaTo</a> will return <b>false</b> (just like it would if the user denied the request);
</li><li> calling <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.savefiledialog.showdialog(VS.96).aspx" class="external text" rel="nofollow">SaveFileDialog.ShowDialog</a> will throw a SecurityException (Silverlight 3)
</li><li> calling <a href="http://msdn.microsoft.com/en-us/library/system.windows.browser.htmlpage.popupwindow%28VS.95%29.aspx" class="external text" rel="nofollow">HtmlPage.PopupWindow</a> will return <b>null</b> unless it was done by a user-initiated event <i>and</i> it can only be called once per user event.
</li></ul>
<p>Documentation
</p>
<ul><li> <a href="http://nerddawg.blogspot.com/2009/05/user-initiated-operations-in.html" class="external text" rel="nofollow">User-initiated operations in Silverlight</a>
</li></ul>
<h2> <span class="mw-headline" id="Assembly_Loading"> Assembly Loading </span></h2>
<ul><li> Remove the Global Assembly Cache (GAC) from the assembly loading strategy
<ul><li> only assemblies from the "platform directory" or the XAP file should be loaded
</li><li> status: <b>complete</b>
</li></ul>
</li><li> Special handling of <code>[InternalsVisibleTo]</code> wrt platform code
<ul><li> make sure we are not opening our internals to assemblies in the XAP file masquerading (name and public key token) as platform code
</li><li> see <a href="{{site.github.url}}/old_site/SecurityValidation" title="SecurityValidation">SecurityValidation</a> for more details
</li><li> status: <b>complete</b>
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Shader_Effects"> Shader Effects </span></h2>
<p>Silverlight 3 feature
</p>
<ul><li><ul><li> status: <b>TODO</b>
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Surface_reduction"> Surface reduction </span></h2>
<p>Why&#160;? beside the standard <i>less code, less vulnerabilities</i> it is also easier and faster, in general, to remove features than to audit them (now and in the future). As a bonus <a href="{{site.github.url}}/old_site/Moonlight" title="Moonlight">Moonlight</a> gets a smaller download size and the Mono runtime get usable in smaller embedded systems.
</p>
<h3> <span class="mw-headline" id="Mono"> Mono </span></h3>
<ul><li> Remove unneeded features (e.g. com support)
<ul><li> status: <b>not done</b> for Moonlight 2
</li></ul>
</li></ul>
<h3> <span class="mw-headline" id="Base_Class_Library_.28BCL.29"> Base Class Library (BCL) </span></h3>
<ul><li> Reduce the number of (unneeded) <code>[SecuritySafeCritical]</code> code
<ul><li> Goal: Reduce surface and the required security audit time
</li><li> How: Look at the <a href="http://anonsvn.mono-project.com/viewvc/trunk/moon/class/tuning/SecurityAttributes/automatic/" class="external text" rel="nofollow">lists</a> of <i>automatic</i> entries added to Moonlight assemblies (*.auto.ssc files) and see what can be removed (e.g. drop or re-write small chunk of code)
</li><li> status: <b>DONE</b>
</li></ul>
</li></ul>
<ul><li> Remove unneeded code (i.e. help the linker)
<ul><li> Goal: Reduce surface and the download size of Moonlight
</li><li> How: Help the linker, with a few well placed <code>#if NET_2_1</code>, drop some code that Moonlight does not require
</li><li> status: <b>DONE</b> (more is possible/likely in future Moonlight releases)
</li></ul>
</li></ul>

