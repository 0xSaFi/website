---
layout: obsolete
title: "Introduction to Deveel AJAX"
permalink: /old_site/Introduction_to_Deveel_AJAX/
redirect_from:
  - /Introduction_to_Deveel_AJAX/
---

<h1>Introduction to Deveel AJAX</h1>

<p>Deveel AJAX is a library used to generate stubs for types (either classes or enumerations) designed under .NET environment to JavaScript, issuing AJAX requests to the back-end code from the client-side of the project.
The idea behind the project is to give developers the same OO development pattern used on the original <i>imported</i> code, providing at the same time the possibility to develop rich web front-ends for applications.
</p><p>The objective of the project is not to replace existing enterprise frameworks, such as <a href="http://ajax.asp.net" class="external text" rel="nofollow">Microsoft AJAX.NET</a>, or give the same behavior of other frameworks running under fifferent platforms, such as <a href="http://www.rubyonrails.org" class="external text" rel="nofollow">RubyOnRails</a>, that are designed and developed with another approach. In fact, Deveel AJAX aims to be a small and fast tool for <i>bridging</i> .NET web applications to the JavaScript layer, enriching the user interfaces following the AJAX concept.
</p><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Basic_Concepts"><span class="tocnumber">1</span> <span class="toctext">Basic Concepts</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Application_Contexts"><span class="tocnumber">2</span> <span class="toctext">Application Contexts</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Is_this_project_useful_for_my_scope.3F"><span class="tocnumber">2.1</span> <span class="toctext">Is this project useful for my scope?</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#How_can_I_use_this_project.3F"><span class="tocnumber">2.2</span> <span class="toctext">How can I use this project?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Security"><span class="tocnumber">3</span> <span class="toctext">Security</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Performances"><span class="tocnumber">4</span> <span class="toctext">Performances</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Configuring_the_Application"><span class="tocnumber">4.1</span> <span class="toctext">Configuring the Application</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Configuring_the_Code"><span class="tocnumber">4.2</span> <span class="toctext">Configuring the Code</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#AjaxMethod"><span class="tocnumber">4.2.1</span> <span class="toctext">AjaxMethod</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="#Duration"><span class="tocnumber">4.2.1.1</span> <span class="toctext">Duration</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="#MethodName"><span class="tocnumber">4.2.1.2</span> <span class="toctext">MethodName</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#ResponseFormat"><span class="tocnumber">4.2.1.3</span> <span class="toctext">ResponseFormat</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-13"><a href="#AjaxType"><span class="tocnumber">4.2.2</span> <span class="toctext">AjaxType</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Require"><span class="tocnumber">4.2.3</span> <span class="toctext">Require</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Advanced_Features"><span class="tocnumber">5</span> <span class="toctext">Advanced Features</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Custom_Script_Rendering"><span class="tocnumber">5.1</span> <span class="toctext">Custom Script Rendering</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#A_Basic_Example"><span class="tocnumber">6</span> <span class="toctext">A Basic Example</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#External_References"><span class="tocnumber">7</span> <span class="toctext">External References</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Licensing"><span class="tocnumber">8</span> <span class="toctext">Licensing</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Basic_Concepts">Basic Concepts</span></h1>
<p>Importing a type in a Page context makes the system  generating a JavaScript stub for the type that will be included automatically as reference among the script links of the page itself (no need to tag the <b>&lt;head&gt;</b> element as <i>runat=server</i>: the system will identify it).
</p><p>Deveel AJAX is designed to be as easy as possible for developers: the only call needed to import a given class or enumeration to the page is to static method <b>AjaxImporter.Import</b> at Init or Load time in the page life-cycle.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Application_Contexts"> Application Contexts </span></h1>
<p>The first question a developer should ask to himself when evaluating a project should be <i>Is this project useful for my scope?</i> and the second one should be <i>How can I use this project?</i>.
</p>
<h2> <span class="mw-headline" id="Is_this_project_useful_for_my_scope.3F"> <i>Is this project useful for my scope?</i> </span></h2>
<p>As said above, Deveel AJAX aims to provide developers with a tool for interfacing their web front-ends with the application back-end, issuing AJAX calls to given methods that computes even complex operations not possible in a JavaScript restricted context (such as the connection to a database or IO operations over a file in the host system).
</p><p>By default, the concept upon which AJAX technology was built on was to allow such this kind of complex operations without having to make a compiled <i>page class</i> (such as an ASP, ASP.NET, PHP, JSP, etc.) to enter in the life-cycle after a post-back, or anyway to hide the process lifting up performances on the server and interface stability.
</p><p>To reach this goal the developer has to write down some specific code each time to distinguish between a normal call (eg. the simple <i>GET</i> request for the load of the page) and an AJAX call (eg. the post-back of a value from a field in a form) or in some cases write an entire script (eg. <a href="http://www.perlo.org" class="external text" rel="nofollow">Perl</a> or <a href="http://www.python.org" class="external text" rel="nofollow">Python</a>) to handle the request.
</p><p>Deveel AJAX lets the developer write just once the code and does a distinction between the different kind of calls by itself.
</p>
<h2> <span class="mw-headline" id="How_can_I_use_this_project.3F"> <i>How can I use this project?</i> </span></h2>
<p>Using Deveel AJAX is particularly simple, as you will see in a brief introduction below: what is needed is a small configuration (really basilar if custom extensions are not wanted) and an application context where to make it run.
</p><p>The first step is to have an application to export that computes an operation (lets say a <i>Data Access Layer</i> or <i>DAL</i> class), signing the methods wanted in an AJAX context.
</p><p>Then, in the ASP.NET page that requires the access to the class import a reference using Deveel AJAX specific tool (<i>AjaxImporter</i>) during the <i>Load</i> or <i>Init</i> life-cycle step.
</p><p>At this point the developer would be able to write down JavaScript code referencing the imported class (the <i>DAL</i> in this case) and operating with the dynamic returned results of the calls to the imported method. 
</p>
<h1> <span class="mw-headline" id="Security"> Security </span></h1>
<p>AJAX is an astonishing technology that solved a problem web developers had for a long time: providing a rich and stable interface, without affecting the performances of both client and server side.
</p><p>Technologies like <i>Java Applets</i> or ActiveX tried to answer the demand by providing rich interfaces with a lot of memory usage and huge security issues. Macromedia Flash was a better solution, furthermore for its graphical design, but it was too hard to extend for common web developers.
</p><p>But AJAX took with itself another issue concerning security as calls could be issued from external sources infecting the system providing the service (<i>cross-site scripting calls</i>) or the JavaScript source code of applications not intended to be visible was widely shown to users.
</p><p>Deveel AJAX implements features for code obfuscation and prevention of cross-site scripting calls, enhancing the security of the application and the source code itself.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Performances"> Performances </span></h1>
<p>In some cases referencing a JavaScript framework (eg. <a href="http://dojotoolkit.org" class="external text" rel="nofollow">Dojo</a> or <a href="http://code.google.com/webtoolkit/" class="external text" rel="nofollow">GWT</a>) could slow down the load time of a page, since they could reach hundreds of kilobytes each.
</p><p>Deveel AJAX makes use of <a href="http://www.prototypejs.org" class="external text" rel="nofollow">prototype</a> framework for generating the stub classes and methods and includes the whole script into every page, plus an additional <i>deveel.ajax.js</i> file that contains the base functionalities for interfacing the generated code with the JavaScript framework (prototype as said).
</p><p>To avoid the affection of the performances in load time Deveel AJAX implements a special function to compress the output scripts, that removes comments and spaces from the sources, reducing from 5% to 40% (avg.) the size of the output.
</p><p>The system also caches a script for a configurable amount of time (default is 30 minutes) not to affect the re-rendering of the whole source script.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="Configuring_the_Application"> Configuring the Application </span></h2>
<p>To enable Deveel AJAX on a web application, using the default settings, the only needed configuration to be provided into '<i>web.config</i> is the following:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;httpHandlers<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        ...
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">verb</span>=<span style="color: #ff0000;">&quot;*&quot;</span> <span style="color: #000066;">path</span>=<span style="color: #ff0000;">&quot;*/ajax/*.jsx&quot;</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Deveel.Ajax.AjaxHttpHadler, Deveel.Ajax&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/httpHandlers<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    ...
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<p>As you can see, the default extension for a Deveel AJAX script is <b>*.jsx</b>: you can define another extension (specially if you are on hosted environment where you cannot modify the MIME table) with an additional setting like this:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;httpHandlers<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        ...
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;add</span> <span style="color: #000066;">verb</span>=<span style="color: #ff0000;">&quot;*&quot;</span> <span style="color: #000066;">path</span>=<span style="color: #ff0000;">&quot;*/ajax/*.ashx&quot;</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;Deveel.Ajax.AjaxHttpHadler, Deveel.Ajax&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/httpHandlers<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    ...
    ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;ajax<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;settings</span> <span style="color: #000066;">extension</span>=<span style="color: #ff0000;">&quot;ashx&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/ajax<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    ...
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<h2> <span class="mw-headline" id="Configuring_the_Code"> Configuring the Code </span></h2>
<p>It is possible to configure the behavior of the methods and types to import through specific attributes.
</p>
<h3> <span class="mw-headline" id="AjaxMethod"> AjaxMethod </span></h3>
<p>This is the main attribute of the whole project, since it gives the user the way to define the behavior for the response and operations of the given signed method in the HTTP context.
</p><p>The property allowed by this attributes are:
</p>
<h4> <span class="mw-headline" id="Duration"> Duration </span></h4>
<p>The time (expressed in seconds) the response of the method will be cached before the method is called again.
</p>
<h4> <span class="mw-headline" id="MethodName"> MethodName </span></h4>
<p>An optional name to assign to the method to identify it differently on the clien-side.
</p>
<h4> <span class="mw-headline" id="ResponseFormat"> ResponseFormat </span></h4>
<p>Defines the format of the response of the method (either JSON or XML). <b>This is still under development</b>.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="AjaxType"> AjaxType </span></h3>
<p>This attribute lets the user to define a custom name or namespace for the imported code, as it will be shown to the client side.
</p><p>For instance, if the user defines the type <b>PersonSelector</b> that belongs to the namespace <b>Deveel.Web.Security.Users</b> and he wants to be rendered under the namespace <b>Deveel.Users</b>, what will be needed will be applying this attribute to the type.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="Require"> Require </span></h3>
<p>Signing a type with this attribute will make the system to import the required type before the type itself. It is important to notice that the required type could even not belong to the assembly defining the type imported, but it is important that the system has access to its information.
</p>
<h1> <span class="mw-headline" id="Advanced_Features"> Advanced Features </span></h1>
<p>The system also provide the possibility to customize the behavior of the import and operational process. In fact it provides configuration options or API interfaces for extending the basic functionalities provided by the system natively.
</p>
<h2> <span class="mw-headline" id="Custom_Script_Rendering"> Custom Script Rendering </span></h2>
<p>All the dynamic scripts rendered by the system are handled by implementations of the interface <b>IScriptHandler</b>, that is responsible for the identification and rendering of a given script. The behavior of the interface is the following:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.IO</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">namespace</span> Deveel<span style="color: #008000;">.</span><span style="color: #0000FF;">Ajax</span> <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">interface</span> IScriptHandler <span style="color: #008000;">&#123;</span>
        <span style="color: #6666cc; font-weight: bold;">string</span> Name <span style="color: #008000;">&#123;</span> <span style="color: #0600FF; font-weight: bold;">get</span><span style="color: #008000;">;</span> <span style="color: #008000;">&#125;</span>
&#160;
        <span style="color: #6666cc; font-weight: bold;">void</span> Render<span style="color: #008000;">&#40;</span>TextWriter writer, <span style="color: #6666cc; font-weight: bold;">string</span> requestUrl, <span style="color: #6666cc; font-weight: bold;">bool</span> compressed<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>The most common one between the implementations of this interface is <b>EmbeddedScriptHandler</b> that gives the possibility to the developer to define an embedded resource as the source for the handler.
For instance, Deveel AJAX uses an internal implementation of <b>IScriptHandler</b> to render the assemblies into scripts.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="A_Basic_Example">A Basic Example</span></h1>
<p>Assuming we have the class <i>PesonSelector</i> as the following:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">System.Collections</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Deveel.Ajax</span><span style="color: #008000;">;</span>
<span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Deveel.JSON</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">namespace</span> Deveel<span style="color: #008000;">.</span><span style="color: #0000FF;">Web</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Security</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Users</span> <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Person <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">public</span> Person<span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span> name, <span style="color: #6666cc; font-weight: bold;">string</span> surname, PersonType type<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            Name <span style="color: #008000;">=</span> name<span style="color: #008000;">;</span>
            Surname <span style="color: #008000;">=</span> surname<span style="color: #008000;">;</span>
            Type <span style="color: #008000;">=</span> type<span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">string</span> Name<span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">string</span> Surname<span style="color: #008000;">;</span>
        <span style="color: #008000;">&#91;</span>JSONField<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;type&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#93;</span>
        <span style="color: #0600FF; font-weight: bold;">public</span> PersonType Type<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">enum</span> PersonType <span style="color: #008000;">&#123;</span>
        MySelf,
        Friend,
        Colleague,
        Unknown
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #008000;">&#91;</span>Require<span style="color: #008000;">&#40;</span><a href="http://www.google.com/search?q=typeof+msdn.microsoft.com"><span style="color: #008000;">typeof</span></a><span style="color: #008000;">&#40;</span>PersonType<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> PersonSelector <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">static</span> PersonSelector<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Antonello&quot;</span>, <span style="color: #666666;">&quot;Provenzano&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">MySelf</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Sravanthi&quot;</span>, <span style="color: #666666;">&quot;Agrawal&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">Friend</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Miguel&quot;</span>, <span style="color: #666666;">&quot;de Icaza&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">Friend</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Gabriele&quot;</span>, <span style="color: #666666;">&quot;Tazzari&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">Friend</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Mart&quot;</span>, <span style="color: #666666;">&quot;Roosmaa&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">Colleague</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
            AddPerson<span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Hanna&quot;</span>, <span style="color: #666666;">&quot;Lteif&quot;</span>, PersonType<span style="color: #008000;">.</span><span style="color: #0000FF;">Colleague</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #0600FF; font-weight: bold;">static</span> ArrayList list<span style="color: #008000;">;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> AddPerson<span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span> name, <span style="color: #6666cc; font-weight: bold;">string</span> surname, PersonType type<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span>list <span style="color: #008000;">==</span> <span style="color: #0600FF; font-weight: bold;">null</span><span style="color: #008000;">&#41;</span>
                list <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> ArrayList<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
&#160;
            list<span style="color: #008000;">.</span><span style="color: #0600FF; font-weight: bold;">Add</span><span style="color: #008000;">&#40;</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> Person<span style="color: #008000;">&#40;</span>name, surname, type<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
&#160;
        <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">static</span> Person SelectPerson<span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span> name<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
            <span style="color: #0600FF; font-weight: bold;">foreach</span><span style="color: #008000;">&#40;</span>Person person <span style="color: #0600FF; font-weight: bold;">in</span> list<span style="color: #008000;">&#41;</span>
                <span style="color: #0600FF; font-weight: bold;">if</span> <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">String</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Compare</span><span style="color: #008000;">&#40;</span>person<span style="color: #008000;">.</span><span style="color: #0000FF;">Name</span>, name, <span style="color: #0600FF; font-weight: bold;">true</span>, CultureInfo<span style="color: #008000;">.</span><span style="color: #0000FF;">InvariantCulture</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">==</span> <span style="color: #FF0000;">0</span> <span style="color: #008000;">||</span>
                    <span style="color: #6666cc; font-weight: bold;">String</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Compare</span><span style="color: #008000;">&#40;</span>person<span style="color: #008000;">.</span><span style="color: #0000FF;">Surname</span>, name, <span style="color: #0600FF; font-weight: bold;">true</span>, CultureInfo<span style="color: #008000;">.</span><span style="color: #0000FF;">InvariantCulture</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">==</span> <span style="color: #FF0000;">0</span><span style="color: #008000;">&#41;</span>
                    <span style="color: #0600FF; font-weight: bold;">return</span> person<span style="color: #008000;">;</span>
            <span style="color: #0600FF; font-weight: bold;">return</span> <span style="color: #0600FF; font-weight: bold;">null</span><span style="color: #008000;">;</span>
        <span style="color: #008000;">&#125;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>In the page we want to use the given type <b>PersonSelector</b> do the following:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">Deveel.Ajax</span><span style="color: #008000;">;</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">partial</span> <span style="color: #6666cc; font-weight: bold;">class</span> <span style="color: #0600FF; font-weight: bold;">Default</span> <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">void</span> Page_Load<span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">object</span> sender, EventArgs e<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
        AjaxImporter<span style="color: #008000;">.</span><span style="color: #0000FF;">Import</span><span style="color: #008000;">&#40;</span><a href="http://www.google.com/search?q=typeof+msdn.microsoft.com"><span style="color: #008000;">typeof</span></a><span style="color: #008000;">&#40;</span>PersonSelector<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>Inspecting the HTML code of your page you will now find:
</p>
<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;html<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;head<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        ...
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;script</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;text/javascript&quot;</span> <span style="color: #000066;">src</span>=<span style="color: #ff0000;">&quot;/ajax/prototype.jsx&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/script<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;script</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;text/javascript&quot;</span> <span style="color: #000066;">src</span>=<span style="color: #ff0000;">&quot;/ajax/deveel.ajax.jsx&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/script<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;script</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;text/javascript&quot;</span> <span style="color: #000066;">src</span>=<span style="color: #ff0000;">&quot;/ajax/App_Code.eg35a7d.jsx&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/script<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
       ...
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/head<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/html<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>
<p>if you go in deep and view at the code the dynamic JavaScript <b>App_Code.eg35a7d.jsx</b> you will see this:
</p>
<pre class="javascript" style="font-family:monospace;">Deveel.<span style="color: #660066;">addNamespace</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Deveel.Web.Security.Users&quot;</span><span style="color: #009900;">&#41;</span>
&#160;
Deveel.<span style="color: #660066;">Web</span>.<span style="color: #660066;">Security</span>.<span style="color: #660066;">Users</span>.<span style="color: #660066;">PersonSelector</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>
    SelectPerson <span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>name<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        Deveel.<span style="color: #660066;">AjaxClass</span>.<span style="color: #660066;">invokeMethod</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'/ajax/App_Code.eg35a7d.jsx'</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'PersonSelector'</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'SelectPerson'</span><span style="color: #339933;">,</span> <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">SelectPerson</span>.<span style="color: #660066;">arguments</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
&#160;
Deveel.<span style="color: #660066;">Web</span>.<span style="color: #660066;">Security</span>.<span style="color: #660066;">Users</span>.<span style="color: #660066;">PersonType</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>
    MySelf <span style="color: #339933;">:</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">,</span>
    Friend <span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span>
    Colleague <span style="color: #339933;">:</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span>
    Unknown <span style="color: #339933;">:</span> <span style="color: #CC0000;">3</span>
<span style="color: #009900;">&#125;</span></pre>
<p>The proxy method will issue a request to the static method <b>SelectPerson</b> will return a <a href="http://www.json.org" class="external text" rel="nofollow">JSON</a> or XML (depending on the configuration of the method) response representing the type <b>Person</b>:
</p>
<pre class="javascript" style="font-family:monospace;"><span style="color: #006600; font-style: italic;">// synchronous call...</span>
<span style="color: #000066; font-weight: bold;">var</span> person <span style="color: #339933;">=</span> Deveel.<span style="color: #660066;">Web</span>.<span style="color: #660066;">Security</span> Users.<span style="color: #660066;">PersonSelector</span>.<span style="color: #660066;">SelectPerson</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Provenzano&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&#160;
...
&#160;
<span style="color: #006600; font-style: italic;">// asyncronous call...</span>
Deveel.<span style="color: #660066;">Web</span>.<span style="color: #660066;">Security</span> Users.<span style="color: #660066;">PersonSelector</span>.<span style="color: #660066;">SelectPerson</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Provenzano&quot;</span><span style="color: #339933;">,</span> onSelectPersonComplete<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&#160;
<span style="color: #000066; font-weight: bold;">function</span> onSelectPersonComplete<span style="color: #009900;">&#40;</span>person<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    ...
<span style="color: #009900;">&#125;</span></pre>
<p>This means the <i>person</i> variable returned by the call to <i>SelectPerson</i> method (or the argument of the async call <i>onSelectPersonComplete</i>) will contain the elements <i>Name</i>, <i>Surname</i> and <i>type</i> (since we choose to give the field <b>Type</b> a different name on response by signing it with <b>JSONField</b> attribute).
</p>
<h1> <span class="mw-headline" id="External_References"> External References </span></h1>
<p><a href="http://sourceforge.net/projects/deveel-ajax" class="external text" rel="nofollow">Deveel AJAX @ SourceForge.net</a>
<a href="http://www.prototypejs.org" class="external text" rel="nofollow">Prototype Framework</a>
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Licensing"> Licensing </span></h1>
<p>Deveel AJAX is released under the terms of <a href="http://www.gnu.org/licenses/lgpl.html" class="external text" rel="nofollow">LGPL license</a> for the source code of the application and the <a href="http://www.opensource.org/licenses/bsd-license.html" class="external text" rel="nofollow">BSD license</a> for the source code of the scripts.
</p>
