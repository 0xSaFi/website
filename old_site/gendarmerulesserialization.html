---
layout: obsolete
title: "Gendarme.Rules.Serialization"
permalink: /old_site/Gendarme.Rules.Serialization/
redirect_from:
  - /Gendarme.Rules.Serialization/
---

<h1>Gendarme.Rules.Serialization</h1>

<p><a href="{{site.baseurl}}/old_site/Gendarme" title="Gendarme">Gendarme</a>'s rules that check for serialization issues are located in the <b>Gendarme.Rules.Serialization.dll</b> assembly.
Latest sources are available from 
<a href="http://anonsvn.mono-project.com/viewcvs/trunk/mono-tools/gendarme/rules/Gendarme.Rules.Serialization/" class="external text" rel="nofollow">anonymous SVN</a>.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Rules"><span class="tocnumber">1</span> <span class="toctext">Rules</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#CallBaseMethodsOnISerializableTypesRule"><span class="tocnumber">1.1</span> <span class="toctext">CallBaseMethodsOnISerializableTypesRule</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#DeserializeOptionalFieldRule"><span class="tocnumber">1.2</span> <span class="toctext">DeserializeOptionalFieldRule</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#ImplementISerializableCorrectlyRule"><span class="tocnumber">1.3</span> <span class="toctext">ImplementISerializableCorrectlyRule</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#MarkAllNonSerializableFieldsRule"><span class="tocnumber">1.4</span> <span class="toctext">MarkAllNonSerializableFieldsRule</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#MarkEnumerationsAsSerializableRule"><span class="tocnumber">1.5</span> <span class="toctext">MarkEnumerationsAsSerializableRule</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#MissingSerializableAttributeOnISerializableTypeRule"><span class="tocnumber">1.6</span> <span class="toctext">MissingSerializableAttributeOnISerializableTypeRule</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#MissingSerializationConstructorRule"><span class="tocnumber">1.7</span> <span class="toctext">MissingSerializationConstructorRule</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#UseCorrectSignatureForSerializationMethodsRule"><span class="tocnumber">1.8</span> <span class="toctext">UseCorrectSignatureForSerializationMethodsRule</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Feedback"><span class="tocnumber">2</span> <span class="toctext">Feedback</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Rules"> Rules </span></h1>
<h3> <span class="mw-headline" id="CallBaseMethodsOnISerializableTypesRule"> CallBaseMethodsOnISerializableTypesRule </span></h3>
<p>This rule checks types that implement the <b>System.ISerializable</b> interface and fires if either the serialization constructor or the <b>GetObjectData</b>method does not call it's <b>base</b> type, potentially breaking the serialization process. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> <span style="color: #0600FF; font-weight: bold;">Base</span> <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #008080; font-style: italic;">// ...</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Bad <span style="color: #008000;">:</span> <span style="color: #0600FF; font-weight: bold;">Base</span> <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">int</span> <span style="color: #0600FF; font-weight: bold;">value</span><span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> BadDerived <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">value</span> <span style="color: #008000;">=</span> info<span style="color: #008000;">.</span><span style="color: #0000FF;">GetInt32</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;value&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;value&quot;</span>, <span style="color: #0600FF; font-weight: bold;">value</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> <span style="color: #0600FF; font-weight: bold;">Base</span> <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #008080; font-style: italic;">// ...</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> <span style="color: #0600FF; font-weight: bold;">Base</span> <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">int</span> <span style="color: #0600FF; font-weight: bold;">value</span><span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> BadDerived <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span> <span style="color: #008000;">:</span> <span style="color: #0600FF; font-weight: bold;">base</span> <span style="color: #008000;">&#40;</span>info, context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        <span style="color: #0600FF; font-weight: bold;">value</span> <span style="color: #008000;">=</span> info<span style="color: #008000;">.</span><span style="color: #0000FF;">GetInt32</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;value&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">override</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;value&quot;</span>, <span style="color: #0600FF; font-weight: bold;">value</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #0600FF; font-weight: bold;">base</span><span style="color: #008000;">.</span><span style="color: #0000FF;">GetObjectData</span> <span style="color: #008000;">&#40;</span>info, context<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.2
</li></ul>
<h3> <span class="mw-headline" id="DeserializeOptionalFieldRule"> DeserializeOptionalFieldRule </span></h3>
<p>This rule will fire if a type has fields marked with <b>[OptionalField]</b>, but does not have methods decorated with the <b>[OnDeserialized]</b> or <b>[OnDeserializing]</b> attributes. This is a problem because the binary deserializer does not actually construct objects (it uses <b>System.Runtime.Serialization.FormatterServices.GetUninitializedObject</b>instead). So, if binary deserialization is used the optional field(s) will be zeroed instead of properly initialized. This rule only applies to assemblies compiled with the .NET framework version 2.0 (or later). 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> ClassWithOptionalField <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#91;</span>OptionalField<span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">int</span> optional<span style="color: #008000;">;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> ClassWithOptionalField <span style="color: #008000;">&#123;</span>
    <span style="color: #008080; font-style: italic;">// Normally the (compiler generated) default constructor will</span>
    <span style="color: #008080; font-style: italic;">// initialize this. The default constructor will be called by the</span>
    <span style="color: #008080; font-style: italic;">// XML and Soap deserializers, but not the binary serializer.</span>
    <span style="color: #008000;">&#91;</span>OptionalField<span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">int</span> optional <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span>
&#160;
    <span style="color: #008080; font-style: italic;">// This will be called immediately after the object is</span>
    <span style="color: #008080; font-style: italic;">// deserialized.</span>
    <span style="color: #008000;">&#91;</span>OnDeserializing<span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">void</span> OnDeserializing <span style="color: #008000;">&#40;</span>StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        optional <span style="color: #008000;">=</span> <span style="color: #FF0000;">1</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h3> <span class="mw-headline" id="ImplementISerializableCorrectlyRule"> ImplementISerializableCorrectlyRule </span></h3>
<p>This rule checks for types that implement <b>ISerializable</b>. Such types serialize their data by implementing <b>GetObjectData</b>. This rule verifies that every instance field, not decorated with the <b>[NonSerialized]</b>attribute is serialized by the <b>GetObjectData</b> method. This rule will also warn if the type is unsealed and the <b>GetObjectData</b> is not <b>virtual</b>. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Bad <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">int</span> foo<span style="color: #008000;">;</span>
    <span style="color: #6666cc; font-weight: bold;">string</span> bar<span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> Bad <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        foo <span style="color: #008000;">=</span> info<span style="color: #008000;">.</span><span style="color: #0000FF;">GetInt32</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #008080; font-style: italic;">// extensibility is limited since GetObjectData is not virtual:</span>
    <span style="color: #008080; font-style: italic;">// any type inheriting won't be able to serialized additional fields</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span>, foo<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        <span style="color: #008080; font-style: italic;">// 'bar' is not serialized, if not needed then the field should</span>
        <span style="color: #008080; font-style: italic;">// be decorated with [NotSerialized]</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example (virtual and not serialized):
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">int</span> foo<span style="color: #008000;">;</span>
    <span style="color: #008000;">&#91;</span>NotSerialized<span style="color: #008000;">&#93;</span>
    <span style="color: #6666cc; font-weight: bold;">string</span> bar<span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> Good <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        foo <span style="color: #008000;">=</span> info<span style="color: #008000;">.</span><span style="color: #0000FF;">GetInt32</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">virtual</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span>, foo<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example (sealed type and serialized):
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">sealed</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #6666cc; font-weight: bold;">int</span> foo<span style="color: #008000;">;</span>
    <span style="color: #6666cc; font-weight: bold;">string</span> bar<span style="color: #008000;">;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">protected</span> Good <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        foo <span style="color: #008000;">=</span> info<span style="color: #008000;">.</span><span style="color: #0000FF;">GetInt32</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;foo&quot;</span>, foo<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
        info<span style="color: #008000;">.</span><span style="color: #0000FF;">AddValue</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;bar&quot;</span>, bar<span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h3> <span class="mw-headline" id="MarkAllNonSerializableFieldsRule"> MarkAllNonSerializableFieldsRule </span></h3>
<p>This rule checks for serializable types, i.e. decorated with the <b>[Serializable]</b>attribute, and checks to see if all its fields are serializable as well. If not the rule will fire unless the field is decorated with the <b>[NonSerialized]</b> attribute. The rule will also warn if the field type is an interface as it is not possible, before execution time, to know for certain if the type can be serialized or not. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #6666cc; font-weight: bold;">class</span> NonSerializableClass <span style="color: #008000;">&#123;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #6666cc; font-weight: bold;">class</span> SerializableClass <span style="color: #008000;">&#123;</span>
    NonSerializableClass field<span style="color: #008000;">;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #6666cc; font-weight: bold;">class</span> NonSerializableClass <span style="color: #008000;">&#123;</span>
<span style="color: #008000;">&#125;</span>
&#160;
<span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #6666cc; font-weight: bold;">class</span> SerializableClass <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#91;</span>NonSerialized<span style="color: #008000;">&#93;</span>
    NonSerializableClass field<span style="color: #008000;">;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h3> <span class="mw-headline" id="MarkEnumerationsAsSerializableRule"> MarkEnumerationsAsSerializableRule </span></h3>
<p>This rule warns when it founds an <b>enum</b> that is not decorated with a <b>[Serializable]</b> attribute. Enums, even without the attribute, are always serializable. Marking them as such makes the source code more readable. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">enum</span> Colors <span style="color: #008000;">&#123;</span>
    Black,
    White
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">enum</span> Colors <span style="color: #008000;">&#123;</span>
    Black,
    White
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.2
</li></ul>
<h3> <span class="mw-headline" id="MissingSerializableAttributeOnISerializableTypeRule"> MissingSerializableAttributeOnISerializableTypeRule </span></h3>
<p>This rule checks for types that implement <b>System.ISerializable</b> but are not decorated with the <b>[Serializable]</b> attribute. Implementing <b>System.ISerializable</b> is not enough to make a class serializable as this interface only gives you more control over the basic serialization process. In order for the runtime to know your type is serializable it must have the <b>[Serializable]</b> attribute. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008080; font-style: italic;">// this type cannot be serialized by the runtime</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Bad <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h3> <span class="mw-headline" id="MissingSerializationConstructorRule"> MissingSerializationConstructorRule </span></h3>
<p>This rule checks for types that implement <b>System.ISerializable</b> but don't provide a serialization constructor. The constructor is required in order to make the type serializeable but cannot be enforced by the interface. The serialization constructor should be <b>private</b> for <b>sealed</b> types and <b>protected</b> for unsealed types. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Bad <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example (sealed):
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">sealed</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">private</span> ClassWithConstructor <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Good <span style="color: #008000;">:</span> ISerializable <span style="color: #008000;">&#123;</span>
    <span style="color: #0600FF; font-weight: bold;">protected</span> ClassWithConstructor <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
&#160;
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">void</span> GetObjectData <span style="color: #008000;">&#40;</span>SerializationInfo info, StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h3> <span class="mw-headline" id="UseCorrectSignatureForSerializationMethodsRule"> UseCorrectSignatureForSerializationMethodsRule </span></h3>
<p>This rule checks for methods which use the serialization attributes: <b>[OnSerializing, OnDeserializing, OnSerialized, OnDeserialized]</b>. You must ensure that these methods have the correct signature. They should be <b>private</b>, return <b>void</b> and have a single parameter of type <b>StreamingContext</b>. Failure to have the right signature can, in some circumstances, make your assembly unusable at runtime. 
</p><p><b>Bad</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Bad <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#91;</span>OnSerializing<span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">bool</span> Serializing <span style="color: #008000;">&#40;</span>StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Good</b> example:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #008000;">&#91;</span>Serializable<span style="color: #008000;">&#93;</span>
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> BadClass <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#91;</span>OnSerializing<span style="color: #008000;">&#93;</span>
    <span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #6666cc; font-weight: bold;">void</span> Serializing <span style="color: #008000;">&#40;</span>StreamingContext context<span style="color: #008000;">&#41;</span>
    <span style="color: #008000;">&#123;</span>
    <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p><b>Notes</b>
</p>
<ul><li> This rule is available since Gendarme 2.0
</li></ul>
<h1> <span class="mw-headline" id="Feedback"> Feedback </span></h1>
<p>Please report any documentation errors, typos or suggestions to the 
<a href="http://groups.google.com/group/gendarme" class="external text" rel="nofollow">Gendarme Google Group</a>. Thanks!
</p>
