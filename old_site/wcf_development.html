---
layout: obsolete
title: "WCF Development"
permalink: /old_site/WCF_Development/
redirect_from:
  - /WCF_Development/
  - /WCF/
  - /WCFNewPage/
---

<h1>WCF Development</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Brief_History"><span class="tocnumber">1</span> <span class="toctext">Brief History</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Status"><span class="tocnumber">2</span> <span class="toctext">Status</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Summary"><span class="tocnumber">2.1</span> <span class="toctext">Summary</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Tasks_remaining"><span class="tocnumber">2.2</span> <span class="toctext">Tasks remaining</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Components_with_no_plan_to_support"><span class="tocnumber">3</span> <span class="toctext">Components with no plan to support</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Known_issues"><span class="tocnumber">4</span> <span class="toctext">Known issues</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Status_Details"><span class="tocnumber">5</span> <span class="toctext">Status Details</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Other_than_System.ServiceModel.dll"><span class="tocnumber">5.1</span> <span class="toctext">Other than System.ServiceModel.dll</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#System.ServiceModel.dll"><span class="tocnumber">5.2</span> <span class="toctext">System.ServiceModel.dll</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Binding_Elements"><span class="tocnumber">5.2.1</span> <span class="toctext">Binding Elements</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#Message_encodings"><span class="tocnumber">5.2.1.1</span> <span class="toctext">Message encodings</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#Transports"><span class="tocnumber">5.2.1.2</span> <span class="toctext">Transports</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Everything_else"><span class="tocnumber">5.2.1.3</span> <span class="toctext">Everything else</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-14"><a href="#Communication_objects"><span class="tocnumber">5.2.2</span> <span class="toctext">Communication objects</span></a>
<ul>
<li class="toclevel-4 tocsection-15"><a href="#Core_of_IChannelFactory.2C_IChannelListener_and_ChannelBase"><span class="tocnumber">5.2.2.1</span> <span class="toctext">Core of IChannelFactory, IChannelListener and ChannelBase</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-16"><a href="#Service_and_contract_description.2C_and_proxies"><span class="tocnumber">5.2.3</span> <span class="toctext">Service and contract description, and proxies</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#ContractDescription"><span class="tocnumber">5.2.3.1</span> <span class="toctext">ContractDescription</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#WSDL_support"><span class="tocnumber">5.2.3.2</span> <span class="toctext">WSDL support</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#IContextChannel_.28ChannelFactory_and_ClientBase.29"><span class="tocnumber">5.2.3.3</span> <span class="toctext">IContextChannel (ChannelFactory and ClientBase)</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-20"><a href="#Security_stack"><span class="tocnumber">5.2.4</span> <span class="toctext">Security stack</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Not_supported"><span class="tocnumber">5.2.5</span> <span class="toctext">Not supported</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#Old_Milestones_and_status_.28for_reference.29"><span class="tocnumber">5.3</span> <span class="toctext">Old Milestones and status (for reference)</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Brief_History"> Brief History </span></h1>
<p>WCF in Mono was originally developed as part of the "olive" module in our source repository, which is primarily a collection of early experimental development of .NET compatibility stack. Nowadays <b>WCF is part of the core Mono</b>. The WCF stack has been merged to mono module (under mcs/class) and is no longer developed in olive.
</p><p>WCF development was started in 2005 and has been suspended and resumed various times. These are the four major efforts over the years:
</p>
<ul><li> Initial development by the time of Mono Summit 2006 in Boston. (<a href="http://www.go-mono.com/meeting06/infocard-indigo.pdf" class="external text" rel="nofollow">Presentation</a>)
</li><li> Google Sumemr of Code development for P2P binding development by Marcos Cobena Morian. Seealso: <a href="http://www.youcannoteatbits.org/Files/Documents/Mono%20Olive%20Notebook%20-%2018-09-07.pdf" class="external text" rel="nofollow">Mono Olive: Introducing Windows Communication Foundation notebook</a>
</li><li> Development led by Mainsoft team. See <a href="http://noamlampert.blogspot.com/search/label/Mono" class="external text" rel="nofollow">Noam Lampert's blog</a>
</li><li> Current phase, originally started as part of Moonlight 2.0 effort since 2009.
<ul><li> We were working on WSHttpBinding support, which is mostly for the security stack (WS-Security, WS-Trust, WS-SecureConversation). It is left incomplete. For details, see <a href="{{site.github.url}}/old_site/WCF_WSHttpBindingHacking" title="WCF WSHttpBindingHacking">WCF_WSHttpBindingHacking</a> page.
</li></ul>
</li></ul>
<h1> <span class="mw-headline" id="Status"> Status </span></h1>
<h2> <span class="mw-headline" id="Summary"> Summary </span></h2>
<p>We continue to fill missing functionality if they are for essential stack such as HTTP channels. There are tons of cosmetic features that were left not-implemented. For other stack such as P2P bindings, we may work on them from time to time, but they are not priority.
</p><p>For the status details, check out our <a href="http://go-mono.com/status/" class="external text" rel="nofollow">class staus pages</a>. System.Runtime.Serialization.dll, System.IdentityModel.dll, System.IdentityModel.Selectors.dll, System.ServiceModel.dll, System.ServiceModel.Web.dll, System.ServiceModel.Routing.dll and System.ServiceModel.Discovery.dll are there. (Other WCF assemblies are not there, mostly because the assemblies are not in our source repository or not supported in any sense.)
</p>
<h2> <span class="mw-headline" id="Tasks_remaining"> Tasks remaining </span></h2>
<ul><li> Bugfixes
<ul><li> <del>WS-SecureConversation: get negotiation based on SecurityContextSecurityToken working.</del> Turned out that it is not a bug but there is insufficient information on negotiation tokens to implement. We'll leave it as is and go on other token support which are well documented and/or open.
</li></ul>
</li></ul>
<ul><li> New features
<ul><li> Diagnostics support, and service trace viewer if possible.
</li><li> Implement 4.0 stuff: see this <a href="http://msdn.microsoft.com/en-us/library/ee354381.aspx" class="external text" rel="nofollow">MSDN article</a> and <a href="http://veritas-vos-liberabit.com/monogatari/2010/09/current-wcf-40-status-in-mono.html" class="external text" rel="nofollow">our status entry in Sep. 2010</a> for details
<ul><li> discovery and announcements i.e. System.ServiceModel.Discovery.dll&#160;: ongoing.
</li><li> simplified configurations&#160;: only a few remains (activation, file-less configuration etc.)
</li><li> REST enhancements.
</li></ul>
</li></ul>
</li></ul>
<ul><li> Improvements
<ul><li> Metadata support (WSDL and MEX)
<ul><li> improved svcutil work (WsdlImporter). Binding export should in general work now. Endpoint export does not yet.
</li><li> WsdlExporter likely needs better support.
</li><li> mex and policy support. Will be used in security stack.
</li></ul>
</li></ul>
</li></ul>
<h1> <span class="mw-headline" id="Components_with_no_plan_to_support"> Components with no plan to support </span></h1>
<p>Items listed here are with no plan to support. Though anyone should feel free to hack and contribute in these areas.
</p>
<ul><li> ComIntegration.
</li></ul>
<ul><li> WorkflowServices. we have no plan to work on WF3. There are WF4-based WCF stuff in System.ServiceModel, which is in different story (though no plan for this either).
</li></ul>
<ul><li> RIA Services. Basically there are Silverlight SDK assemblies that are to be embedded in the app, so we don't have to bother much.
</li></ul>
<ul><li> WSHttpBinding and its dependencies
<ul><li> TransactionFlow
</li><li> ReliableSession
</li></ul>
</li><li> Federation (I'm not sure what it is supposed to do.)
</li><li> Silverlight PollingDuplex binding element.
</li><li> WSDualHttpBinding (post-WSHttpBinding work)
<ul><li> One-way binding and things that depends on it; reliable messaging and composite duplex. channel pool.
</li></ul>
</li><li> MSMQ stack: Msmq bindings and MsmqIntegration.
</li><li> Data Services.
</li><li> Net peer channel improvements.
</li></ul>
<h1> <span class="mw-headline" id="Known_issues"> Known issues </span></h1>
<p>In general, we keep fixing bugs and bugfixes are (very) often not in the latest release yet. Especially, for Mono 2.8, the branching was done much earlier than the actual release, and even if you reported bugs earlier than the release, it is often not fixed in it. The actual fixes would be available in the future release or you can grab the latest code in our <a href="http://mono.ximian.com/daily/" class="external text" rel="nofollow">daily builds</a>.
</p><p>Based on the premise above, here I list some known issues and workarounds that we don't give priority beyond ongoing work.
</p>
<ul><li> When you host a service that uses NetTcpBinding or CustomBinding with TcpTransportBinding on a ServiceHost and configure the binding (element) as TransferMode = Buffered, it could result in blocking when it receives more than ServiceThrottle.MaxConcurrentSessions or ServiceThrottle.MaxConcurrentCalls at a time. To avoid this issue, give large number for those ServiceThrottle properties.
</li><li> <a href="http://msdn.microsoft.com/en-us/library/ms731045.aspx" class="external text" rel="nofollow">Data Contract Names for Generic Types</a> is not implemented. The reason is, it does not fully explain *exactly* how to compute the hash (hash algorithm, how to concatenate namespace strings, conversion from namespace strings to bytes, and to result string back which must not be base64 as it contains '+' etc.). Since interoperable applications should use explicit xml element names (or do you expose "FooBarxxXxXxxX" in your app?), it is left as is so far.
</li></ul>
<h1> <span class="mw-headline" id="Status_Details"> Status Details </span></h1>
<p>I marked some areas that especially welcome contributions as "contribute" lines.
</p>
<h2> <span class="mw-headline" id="Other_than_System.ServiceModel.dll"> Other than System.ServiceModel.dll </span></h2>
<ul><li> System.Runtime.Serialization.dll
<ul><li> NetDataContractSerializer is not implemented. (contribute)
</li></ul>
</li><li> System.IdentityModel.dll
<ul><li> Windows-only stuff is not really done. (contribute)
</li><li> System.IdentityModel.Policy namespace is not known to work.
</li><li> SAML implementation is incomplete, and not implemented as SecurityToken. (contribute)
</li></ul>
</li><li> System.IdentityModel.Selectors.dll
<ul><li> On Win32 it should work. The actual implementation is in Mono.IdentityModel.Selectors.dll which P/Invokes cardspaceapi.dll.
</li><li> On Linux and/or Mac, the entire UI must be implemented. (contribute: write card manager UI (in any form; Gtk#, WinForms or even CUI). It could be done as part of mono-tools (especially if it depends on Gtk#) or mcs/tools. There is Mono.IdentityModel.Selectors.dll that holds implementation for win32.)
</li></ul>
</li><li> System.ServiceModel.Web.dll
<ul><li> 3.5 is mostly done. 4.0 needs more work. (contribute)
</li></ul>
</li><li> System.ServiceModel.Routing.dll
<ul><li> Mostly implemented. (needs some real-world usage.)
</li></ul>
</li><li> System.ServiceModel.Discovery.dll
<ul><li> Announcement and Discovery Probe is done except for Adhoc Discovery. Discovery Resolve is not implemented yet. (contribute)
</li></ul>
</li><li> System.Data.Services.dll
<ul><li> It is not really implemented, but we may start working on it. It is so far stubbed by Eric Maupin for NHibernate build and Marek (Habersack) is planning his hack.
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="System.ServiceModel.dll"> System.ServiceModel.dll </span></h2>
<h3> <span class="mw-headline" id="Binding_Elements"> Binding Elements </span></h3>
<p>Bindings should be regarded as explained here too, as they are almost mere collection of binding elements.
</p>
<h4> <span class="mw-headline" id="Message_encodings"> Message encodings </span></h4>
<p>All message encoding binding elements are implemented, except for some details. For example, ArraySegment support is not implemented. Message buffering is not always considered.
</p>
<h4> <span class="mw-headline" id="Transports"> Transports </span></h4>
<p>HTTP, HTTPS (basically), TCP (both streaming and duplex) are implemented. NetPeer is in general implemented, but lacks some details. Named pipe code is written, but not really working yet. For others, it depends.
</p>
<h4> <span class="mw-headline" id="Everything_else"> Everything else </span></h4>
<p>are explained at corresponding sections (for example, no point of explaining TransactionFlowBoindingElement beyond Transaction section).
</p>
<h3> <span class="mw-headline" id="Communication_objects"> Communication objects </span></h3>
<p>Client side would work better since they are actually used heavily in Moonlight.
</p><p>Session support depends on transports (as .NET WCF does), and since only TCP duplex channel is implemented so far, some other requirements may not be filled. (In Moonlight 2.0 compatibility layer, there is no binding element that supports sessions.)
</p>
<h4> <span class="mw-headline" id="Core_of_IChannelFactory.2C_IChannelListener_and_ChannelBase"> Core of IChannelFactory, IChannelListener and ChannelBase </span></h4>
<p>Every basic parts should work: CommunicationObject, ChannelBase, ChannelManagerBase, ChannelFactoryBase, ChannelListenerBase, etc.
</p><p>The same applies to service side at ServiceHost: ServiceHost(Base), ChannelDispatcher(Base), EndpointDispatcher and DispatchRuntime.
</p><p>Though note that not *all* of the members are ready to work.
</p><p>(All those derived types of channel factories and listeners depend on each layer.)
</p>
<h3> <span class="mw-headline" id="Service_and_contract_description.2C_and_proxies"> Service and contract description, and proxies </span></h3>
<h4> <span class="mw-headline" id="ContractDescription"> ContractDescription </span></h4>
<p>All description types should be working, including typed messages.
</p><p>Not all behaviors are supported.
</p>
<h4> <span class="mw-headline" id="WSDL_support"> WSDL support </span></h4>
<p>Binding export and import would work in general. Endpoint export and import don't work.
</p>
<h4> <span class="mw-headline" id="IContextChannel_.28ChannelFactory_and_ClientBase.29"> IContextChannel (ChannelFactory and ClientBase) </span></h4>
<p>Basic functionality in client factory should work, including duplex ones: ClientBase&lt;T&gt;, DuplexClientBase&lt;T&gt;, ChannelFactory&lt;T&gt;, DuplexChannelFactory&lt;T&gt;.
</p>
<h3> <span class="mw-headline" id="Security_stack"> Security stack </span></h3>
<p>Incomplete work. WS-Trust authenticator hash was not clear at the development a few years ago (This might have changed by Windows Open Protocols).
</p>
<h3> <span class="mw-headline" id="Not_supported"> Not supported </span></h3>
<ul><li> transactions
</li><li> composite duplex and one way binding
</li><li> reliable messaging (depends on one-way binding element)
</li><li> federation
</li><li> privacy notice (WSDL support is incomplete anyways)
</li><li> SSL stream
</li><li> logging
</li></ul>
<h2> <span class="mw-headline" id="Old_Milestones_and_status_.28for_reference.29"> Old Milestones and status (for reference) </span></h2>
<p>For older status of WCF, see <a href="{{site.github.url}}/old_site/WCFStatusOld" title="WCFStatusOld">WCFStatusOld</a>.
</p>
