---
layout: obsolete
title: "I18nGettext"
permalink: /old_site/I18nGettext/
redirect_from:
  - /I18nGettext/
---

<h1>I18nGettext</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Requirements"><span class="tocnumber">2</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Using_GetText.23"><span class="tocnumber">3</span> <span class="toctext">Using GetText#</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Installation"><span class="tocnumber">3.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Using_GetText.23_with_console-based_applications"><span class="tocnumber">3.2</span> <span class="toctext">Using GetText# with console-based applications</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Using_GetText.23_with_window-based_applications"><span class="tocnumber">3.3</span> <span class="toctext">Using GetText# with window-based applications</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Conclusions"><span class="tocnumber">4</span> <span class="toctext">Conclusions</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Frequently_Asked_Questions"><span class="tocnumber">5</span> <span class="toctext">Frequently Asked Questions</span></a></li>
</ul>
</td></tr></table>
<h3> <span class="mw-headline" id="Introduction">Introduction</span></h3>
<p>While the Gettext# library allows you to internationalize your code, we advise you to use our <a href="{{site.baseurl}}/old_site/I18N_with_Mono.Unix" title="I18N with Mono.Unix" class="mw-redirect"> Mono.Posix assembly</a> to do so.
</p>
<h3> <span class="mw-headline" id="Requirements">Requirements</span></h3>
<p>For running the samples you need the following:
</p>
<ul><li> mono (&gt;= 1.0) for translating console-based aplications.
</li><li> Gtk# (&gt;= 1.0) for translating window-based aplications.
</li><li> Glade2 for creating the GUI, not really needed but very usefull
</li></ul>
<p>All the examples were tested using mono 1.1.6, Gtk# 1.9.3 and Gettext# 0.14.
</p>
<h3> <span class="mw-headline" id="Using_GetText.23">Using GetText#</span></h3>
<h4> <span class="mw-headline" id="Installation">Installation</span></h4>
<p>You can download the current version from <a href="http://ftp.gnu.org/gnu/gettext/gettext-0.14.tar.gz" class="external text" rel="nofollow">here</a>. The older version can the downloaded from <a href="http://ftp.gnu.org/gnu/gettext/" class="external text" rel="nofollow">this</a> site. Older versions of Gettext doesn't support C#, so older versions doesn't work.
</p><p>After downloading the package you need to uncompress it.
</p>
<pre class="bash" style="font-family:monospace;"> $ <span style="color: #c20cb9; font-weight: bold;">tar</span> xvfz gettext-<span style="color: #000000;">0.14</span>.tar.gz</pre>
<p>then
</p>
<pre class="bash" style="font-family:monospace;"> $ .<span style="color: #000000; font-weight: bold;">/</span>configure <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #c20cb9; font-weight: bold;">make</span></pre>
<p>within the created folder, by default the configure script allows the C# language so you don't need any extra parameter, and finally, install using the root user
</p>
<pre class="bash" style="font-family:monospace;"> <span style="color: #666666; font-style: italic;"># make install</span></pre>
<p>Now we can use the GetText# library for translating our application.
</p>
<h4> <span class="mw-headline" id="Using_GetText.23_with_console-based_applications">Using GetText# with console-based applications</span></h4>
<p>For using GetText# we need to add the following namespace to our code: <i>GNU.Gettext</i>, then declare a variable that allows GetText# to set translatable strings and finally begin to replace all the strings that we need to translate using a method from GetText#.
</p><p>For example, lets see the following code from a source file called <b>Example.cs</b>:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Example
<span style="color: #008000;">&#123;</span>
	<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> args<span style="color: #008000;">&#41;</span>
	<span style="color: #008000;">&#123;</span>
		<span style="color: #000000;">System</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Console</span><span style="color: #008000;">.</span><span style="color: #0000FF;">WriteLine</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Hello world!&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>we should modify it in this way:
</p>
<pre class="csharp" style="font-family:monospace;"><span style="color: #0600FF; font-weight: bold;">using</span> <span style="color: #008080;">GNU.Gettext</span><span style="color: #008000;">;</span> <span style="color: #008080; font-style: italic;">//Required namespace for i18n</span>
&#160;
<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #6666cc; font-weight: bold;">class</span> Example
<span style="color: #008000;">&#123;</span>
	<span style="color: #008080; font-style: italic;">//This variable will allow us to set which strings are translatable</span>
	<span style="color: #008080; font-style: italic;">//&quot;my_class&quot; is a catalog identifier, used in the next section</span>
	<span style="color: #0600FF; font-weight: bold;">private</span> <span style="color: #0600FF; font-weight: bold;">static</span> GettextResourceManager _catalog <span style="color: #008000;">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span style="color: #008000;">new</span></a> GettextResourceManager <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;my_class&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #0600FF; font-weight: bold;">public</span> <span style="color: #0600FF; font-weight: bold;">static</span> <span style="color: #6666cc; font-weight: bold;">void</span> Main <span style="color: #008000;">&#40;</span><span style="color: #6666cc; font-weight: bold;">string</span><span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span> args<span style="color: #008000;">&#41;</span>
	<span style="color: #008000;">&#123;</span>
		<span style="color: #008080; font-style: italic;">//This string is modified adding the method GetString() from the catalog variable</span>
		<span style="color: #000000;">System</span><span style="color: #008000;">.</span><span style="color: #0000FF;">Console</span><span style="color: #008000;">.</span><span style="color: #0000FF;">WriteLine</span> <span style="color: #008000;">&#40;</span>_catalog<span style="color: #008000;">.</span><span style="color: #0000FF;">GetString</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Hello world!&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">;</span>
	<span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span></pre>
<p>There is only one string marked as translatable: "<i>Hello world!</i>"
</p>
<pre class="csharp" style="font-family:monospace;">_catalog<span style="color: #008000;">.</span><span style="color: #0000FF;">GetString</span> <span style="color: #008000;">&#40;</span><span style="color: #666666;">&quot;Hello world!&quot;</span><span style="color: #008000;">&#41;</span></pre>
<p>using the method <i>GetString</i> we mark any string as translatable, we need to repeat the process of marking-the-string in all the string that we need to translate. Lets compile our example.
</p>
<pre class="bash" style="font-family:monospace;"> $ mcs <span style="color: #660033;">-r</span> GNU.Gettext Example.cs</pre>
<p>then lets run it
</p>
<pre class="bash" style="font-family:monospace;"> $ mono Example.exe</pre>
<p>You'll see that the output is still <i>Hello world!</i>, Why? Because we haven't translated the string, we marked it as translatable, now we need to translate it. For doing that we need to <b>get</b> the strings from our source code using this statement:
</p>
<pre class="bash" style="font-family:monospace;"> $ xgettext <span style="color: #660033;">--from-code</span>=UTF-<span style="color: #000000;">8</span> Example.cs <span style="color: #660033;">-o</span> es.po</pre>
<p>Using the <b>--from-code=UTF-8</b> parameter sets the source file format, and <i>es.po</i> will be the file which contain all the strings to translate. We will translate this sample from english to spanish. The stament used above creates a file called es.po, and its content is something like the following:
</p>
<pre>
# SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
#, fuzzy
msgid &quot;&quot;
msgstr &quot;&quot;
&quot;Project-Id-Version: PACKAGE VERSION\n&quot;
&quot;Report-Msgid-Bugs-To: \n&quot;
&quot;POT-Creation-Date: 2004-08-13 04:08-0500\n&quot;
&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n&quot;
&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n&quot;
&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;\n&quot;
&quot;MIME-Version: 1.0\n&quot;
&quot;Content-Type: text/plain; charset=CHARSET\n&quot;
&quot;Content-Transfer-Encoding: 8bit\n&quot;

#: Example.cs:11
msgid &quot;Hello world!&quot;
msgstr &quot;&quot; 
</pre>
<p>Do not forget to change the <i>CHARSET</i> from this line
</p>
<pre>
&quot;Content-Type: text/plain; charset=CHARSET\n&quot;
</pre>
<p>to something like this
</p>
<pre>
&quot;Content-Type: text/plain; charset=UTF-8\n&quot;
</pre>
<p>See the following lines
</p>
<pre>
#: Example.cs:11
msgid &quot;Hello world!&quot;
msgstr &quot;&quot; 
</pre>
<p>You will notice three important sections:
</p>
<ul><li> <i>line number and source file</i>: name where the translatable string exists
</li><li> <i>translatable string</i>: must not be changed
</li><li> <i>translated string</i>: empty by default, represents the new string which will be showed when running the translation.
</li></ul>
<p>After translating the file might look something like this:
</p>
<pre>
# SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
#, fuzzy
msgid &quot;&quot;
msgstr &quot;&quot;
&quot;Project-Id-Version: PACKAGE VERSION\n&quot;
&quot;Report-Msgid-Bugs-To: \n&quot;
&quot;POT-Creation-Date: 2004-08-13 04:08-0500\n&quot;
&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n&quot;
&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n&quot;
&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;\n&quot;
&quot;MIME-Version: 1.0\n&quot;
&quot;Content-Type: text/plain; charset=UTF-8\n&quot;
&quot;Content-Transfer-Encoding: 8bit\n&quot;

#: Example.cs:11
msgid &quot;Hello world!&quot;
msgstr &quot;¡Hola mundo!&quot; 
</pre>
<p>Now we need to create the catalog, we use the following command for creating it
</p>
<pre class="bash" style="font-family:monospace;"> $ <span style="color: #c20cb9; font-weight: bold;">msgfmt</span> <span style="color: #660033;">--csharp</span> <span style="color: #660033;">-r</span> my_class <span style="color: #660033;">-l</span> es es.po <span style="color: #660033;">-d</span> .</pre>
<p>The stament used above generates a C# assembly due to the <b>--csharp</b> parameter, in the current directory, due to the parameter <b>-d .</b>, which is called automatically when the locale is es, due to the parameter <b>-l es</b>, the parameter <i>-r my_class</i> calls the catalog identifier which previouslly was defined in the source code. The library is within ./es/ and is called my_class.resources.dll.
</p><p>Lets try again
</p>
<pre class="bash" style="font-family:monospace;"> $ <span style="color: #007800;">LANG</span>=es mono Example.exe</pre>
<p>Warning: be sure to use LANG=es and not LANGUAGE=es for some reason with gettext-0.14.5 LANGUAGE=es will not work!
</p><p>the output will be:
</p>
<pre>
¡Hola mundo!
</pre>
<h4> <span class="mw-headline" id="Using_GetText.23_with_window-based_applications">Using GetText# with window-based applications</span></h4>
<p>TODO
</p>
<h3> <span class="mw-headline" id="Conclusions">Conclusions</span></h3>
<p>TODO
</p>
<h3> <span class="mw-headline" id="Frequently_Asked_Questions">Frequently Asked Questions</span></h3>
<p>TODO
</p>
