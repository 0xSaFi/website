---
layout: obsolete
title: "Scratchbox"
permalink: /old_site/Scratchbox/
redirect_from:
  - /Scratchbox/
---

<h1>Scratchbox</h1>

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Table of contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Creating_Host_Target"><span class="tocnumber">2</span> <span class="toctext">Creating Host Target</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Installing_Developer_Kit"><span class="tocnumber">3</span> <span class="toctext">Installing Developer Kit</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Introduction"> Introduction </span></h2>
<p><a href="http://www.scratchbox.org/" class="external text" rel="nofollow">Scratchbox</a> is a cross-compilation toolkit designed to make embedded Linux application development easier. It also provides a full set of tools to integrate and cross-compile an entire Linux distribution. To find out what it can do, take a look at some of the documentation.
</p><p>Scratchbox is used by Maemo development platform (Nokia Internet Tablets). But it is not restricted to that use.
</p><p>Scratchbox uses <a href="http://fabrice.bellard.free.fr/qemu/" class="external text" rel="nofollow">QEMU</a> for ARM emulation, the problem is that some ARM syscalls (242, 264, 299) are not yet implemented in QEMU. These missing syscalls can cause problems in <a href="/index.php?title=MCS&amp;action=edit&amp;redlink=1" class="new" title="MCS (page does not exist)">MCS</a>, making it impossible to compile assemblies for ARM.
</p><p><a href="http://www.scratchbox.org/documentation/user/scratchbox-1.0/html/devkit.html" class="external text" rel="nofollow">Scratchbox devkits</a> provide a set of tools that can be executed on the host instead of target device and thus it reduces time that is used to build packages.
</p><p>Before building mono-devkit you must first create a HOST target in your scratchbox environment.
</p><p><b>Note:</b> to execute these instructions you must first have Scratchbox and Maemo SDKs installed. The instructions can be found <a href="http://repository.maemo.org/stable/4.1.1/INSTALL.txt" class="external text" rel="nofollow">here</a>.
</p>
<h2> <span class="mw-headline" id="Creating_Host_Target"> Creating Host Target </span></h2>
<p>First you must get and install the host-gcc tool chain running these commands outside of scratchbox:
</p>
<pre> wget <a href="http://scratchbox.org/download/files/sbox-releases/apophis/tarball/scratchbox-toolchain-host-gcc-1.0.9-i386.tar.gz" class="external free" rel="nofollow">http://scratchbox.org/download/files/sbox-releases/apophis/tarball/scratchbox-toolchain-host-gcc-1.0.9-i386.tar.gz</a>
 sudo tar xzf scratchbox-toolchain-host-gcc-1.0.9-i386.tar.gz -C /
 sudo mkdir /scratchbox/devkits/mono
 sudo chmod ugo+w /scratchbox/devkits/mono
</pre>
<p>Then login into scratchbox:
</p>
<pre> /scratchbox/login 
</pre>
<p>And execute these commands:
</p>
<pre> [sbox-DIABLO_X86: ~] &gt; sb-conf setup DIABLO_HOST -c host-gcc -d perl:debian-etch:maemo3-tools -t none
 [sbox-DIABLO_X86: ~] &gt; sb-conf select DIABLO_HOST
 [sbox-DIABLO_HOST: ~] &gt; wget -c <a href="http://repository.maemo.org/stable/4.1.1/i386/maemo-sdk-rootstrap_4.1.1_i386.tgz" class="external free" rel="nofollow">http://repository.maemo.org/stable/4.1.1/i386/maemo-sdk-rootstrap_4.1.1_i386.tgz</a>
 [sbox-DIABLO_HOST: ~] &gt; sb-conf rs maemo-sdk-rootstrap_4.1.1_i386.tgz
 [sbox-DIABLO_HOST: ~] &gt; sb-conf install --etc --devkits
 [sbox-DIABLO_HOST: ~] &gt; apt-get update
 [sbox-DIABLO_HOST: ~] &gt; fakeroot apt-get install maemo-sdk-runtime
 [sbox-DIABLO_HOST: ~] &gt; fakeroot apt-get install maemo-sdk-dev
</pre>
<p>Now you should be able to build the developer kit.
</p>
<h2> <span class="mw-headline" id="Installing_Developer_Kit"> Installing Developer Kit </span></h2>
<p>Login into scratchbox if you haven't done it yet:
</p>
<pre> /scratchbox/login
</pre>
<p>Select HOST target:
</p>
<pre> [sbox-DIABLO_X86: ~] &gt; sb-conf select DIABLO_HOST
</pre>
<p>Then use garmono to build and install devkit:
</p>
<pre> [sbox-DIABLO_HOST: ~] &gt; svn co <a href="svn://anonsvn.mono-project.com/source/trunk/release/garmono" class="external free" rel="nofollow">svn://anonsvn.mono-project.com/source/trunk/release/garmono</a>
 [sbox-DIABLO_HOST: ~] &gt; cd garmono
 [sbox-DIABLO_HOST: ~] &gt; make clean
 [sbox-DIABLO_HOST: ~] &gt; make maemo/devkit
</pre>
<p>To enable devkit for your ARMEL and X86 targets just type:
</p>
<pre> [sbox-DIABLO_HOST: ~] &gt; sb-conf setup DIABLO_ARMEL -f -d perl:debian-etch:maemo3-tools:cputransp:mono
 [sbox-DIABLO_HOST: ~] &gt; sb-conf setup DIABLO_X86 -f -d perl:debian-etch:maemo3-tools:mono
</pre>
<p>Now you will be able to build Mono packages inside scratchbox!
</p>
